(self["webpackChunktdesign_uniapp_vue2_cli"]=self["webpackChunktdesign_uniapp_vue2_cli"]||[]).push([[395],{15690:function(t,e,n){"use strict";var a;n.d(e,{A:function(){return _}});var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{class:t.classPrefix,style:t._._style([t.customStyle])},["error"===t.status||"text"===t.content.type?[n("v-uni-view",{class:t.classPrefix+"__"+t.role+" "+t.classPrefix+"__"+t.status},[n("v-uni-view",{staticClass:"_pre"},[n("v-uni-rich-text",{attrs:{nodes:t.textInfo}})],1)],1)]:[n("v-uni-view",{class:t.classPrefix+"__assistant"},[n("TChatMarkdown",{attrs:{content:t.textInfo,options:t.markdownProps&&t.markdownProps.options},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}})],1)]],2)},o=[],r=n(79074),c=n(38207),i=(n(26128),{content:{type:Object,required:!0},markdownProps:{type:Object},role:{type:String,required:!0,validator:function(t){return["user","assistant","system"].includes(t)}},status:{type:String,validator:function(t){return!t||["error",""].includes(t)}},onClick:{type:Function,default:function(){return{}}}}),l=n(78282),d=n(33913);const u=`${c.Pl}-chat-content`;var p,v=(0,d.o1)({name:u,options:{multipleSlots:!0,styleIsolation:"shared"},components:{TChatMarkdown:r.A},props:{...i},emits:["click"],data(){return{classPrefix:u,textInfo:"",_:l.A}},watch:{content:{handler(){this.setTextInfo()},immediate:!0,deep:!0}},mounted(){this.setTextInfo()},methods:{getEscapeReplacement(t){const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e[t]},escape(t,e=!1){const n=/[&<>"']/,a=new RegExp(n.source,"g"),s=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,o=new RegExp(s.source,"g");if(e){if(n.test(t))return t.replace(a,this.getEscapeReplacement)}else if(s.test(t))return t.replace(o,this.getEscapeReplacement);return t},setTextInfo(){"text"===this.content.type||"error"===this.status?this.textInfo=this.escape(this.content.data||""):this.textInfo=this.content.data},onClick(t){this.$emit("click",t)}}}),f=v,h=(n(44589),n(1391)),m=(0,h.A)(f,s,o,!1,null,"3e956f1c",null,!1,a,p),_=m.exports},19929:function(t,e,n){var a=n(24616);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=n(31997).A;s("96a21cfa",a,!0,{sourceMap:!1,shadowMode:!1})},24616:function(t,e,n){"use strict";n.r(e);var a=n(22093),s=n.n(a),o=n(12670),r=n.n(o),c=r()(s());c.push([t.id,"",""]),e["default"]=c},35685:function(t,e,n){var a=n(79928);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=n(31997).A;s("2b9dcd4e",a,!0,{sourceMap:!1,shadowMode:!1})},38216:function(t,e,n){"use strict";var a;n.r(e),n.d(e,{default:function(){return b}});var s,o,r,c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("t-demo-navbar",{staticClass:"demo-navbar",attrs:{title:"ChatContent"}}),n("v-uni-view",{staticClass:"demo"},[n("t-demo-header",{attrs:{title:"ChatContent 对话正文",desc:"支持 markdown 格式的渲染。",notice:"渲染框架支持情况：WebView"}}),n("t-demo",{attrs:{title:"01 组件类型"}},[n("base-demo")],1)],1)],1)},i=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"chat-example"},[n("v-uni-view",{staticClass:"title"},[t._v(" 用户内容纯文本支持HTML转义 ")]),n("v-uni-view",{staticClass:"chat-example-block"},[n("t-chat-content",{attrs:{content:t.userContent,role:"user"}})],1)],1),n("v-uni-view",{staticClass:"chat-example"},[n("v-uni-view",{staticClass:"title"},[t._v(" 助手内容（Markdown） ")]),n("v-uni-view",{staticClass:"chat-example-block"},[n("t-chat-content",{attrs:{content:t.assistantContent,role:"assistant"}})],1)],1)],1)},d=[],u=n(15690),p="# Markdown功能测试 (H1标题)\n\n## 基础语法测试 (H2标题)\n\n### 列表测试\n\n- 无序列表项1\n- 无序列表项2\n    - 缩进列表项1（4个空格缩进）\n    - 缩进列表项2（4个空格缩进）\n\n1. 有序列表项1\n2. 有序列表项2\n    1. 缩进有序列表项1（4个空格缩进）\n    2. 缩进有序列表项2（4个空格缩进）\n\n### 代码块测试\n\n```javascript\n// JavaScript 代码块\nfunction greet(name) {\n  console.log(`Hello, ${name}!`);\n}\ngreet('Markdown');\n```\n\n### 其他元素\n\n> 引用文本块\n> 多行引用内容\n\n**加粗文字** _斜体文字_ ~~删除线~~\n\n这是一个链接 [TDesign](https://tdesign.tencent.com)。\n",v={components:{TChatContent:u.A},data:function(){return{userContent:{type:"text",data:"这是用户发送的普通文本内容"},assistantContent:{type:"markdown",data:p}}},created:function(){},methods:{}},f=v,h=(n(35685),n(1391)),m=(0,h.A)(f,l,d,!1,null,"86ce5f42",null,!1,s,o),_=m.exports,w={components:{BaseDemo:_},data:function(){return{}},methods:{}},x=w,g=(n(19929),(0,h.A)(x,c,i,!1,null,"5ab3c08e",null,!1,a,r)),b=g.exports},44589:function(t,e,n){var a=n(76480);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=n(31997).A;s("4ebe7808",a,!0,{sourceMap:!1,shadowMode:!1})},76480:function(t,e,n){"use strict";n.r(e);var a=n(22093),s=n.n(a),o=n(12670),r=n.n(o),c=r()(s());c.push([t.id,".t-chat-content[data-v-3e956f1c]{font-size:%?32?%;line-height:%?48?%;word-break:break-word;word-wrap:break-word;overflow-wrap:break-word;box-sizing:border-box;width:-webkit-fit-content;width:fit-content}.t-chat-content__user[data-v-3e956f1c]{color:var(--td-chat-content-user-text-color,var(--td-text-color-primary,var(--td-font-gray-1,rgba(0,0,0,.9))))}.t-chat-content__user ._pre[data-v-3e956f1c]{margin:0;white-space:pre-wrap}.t-chat-content__assistant[data-v-3e956f1c]{color:var(--td-chat-content-assistant-text-color,var(--td-text-color-primary,var(--td-font-gray-1,rgba(0,0,0,.9))))}.t-chat-content__assistant ._ol[data-v-3e956f1c]{-webkit-padding-start:%?40?%;padding-inline-start:%?40?%}.t-chat-content__assistant ._ol ._li[data-v-3e956f1c]{list-style:decimal}.t-chat-content__assistant ._img[data-v-3e956f1c]{max-width:100%;margin:%?8?% 0;border-radius:var(--td-radius-small,3px)}.t-chat-content__error[data-v-3e956f1c]{color:var(--td-chat-content-error-text-color,var(--td-error-color,var(--td-error-color-6,#d54941)))}",""]),e["default"]=c},79928:function(t,e,n){"use strict";n.r(e);var a=n(22093),s=n.n(a),o=n(12670),r=n.n(o),c=r()(s());c.push([t.id,".chat-example[data-v-86ce5f42]{margin-bottom:%?32?%}.chat-example-block[data-v-86ce5f42]{padding:%?32?%;background-color:var(--td-bg-color-container)}.title[data-v-86ce5f42]{padding:0 %?32?% %?32?%;font-size:%?28?%;line-height:%?44?%;color:var(--bg-color-demo-desc)}",""]),e["default"]=c}}]);