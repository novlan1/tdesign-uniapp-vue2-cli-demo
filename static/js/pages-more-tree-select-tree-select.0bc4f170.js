(self["webpackChunktdesign_uniapp_vue2_cli"]=self["webpackChunktdesign_uniapp_vue2_cli"]||[]).push([[7218],{94053:function(e,t,l){"use strict";var a;l.r(t),l.d(t,{default:function(){return we}});var n,o,i,r=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("v-uni-view",[l("t-demo-navbar",{attrs:{title:"TreeSelect"}}),l("v-uni-view",{staticClass:"demo"},[l("t-demo-header",{attrs:{title:"TreeSelect 树形选择器",desc:"用于多层级数据的逐级选择。",notice:"渲染框架支持情况：WebView"}}),l("t-demo",{attrs:{title:"01 组件类型",desc:"基础树形选择器"}},[l("base-demo")],1),l("t-demo",{attrs:{desc:"多选树形选择器"}},[l("multiple-demo")],1),l("t-demo",{attrs:{title:"02 组件状态",desc:"树形选择器-三列"}},[l("normal-demo")],1)],1)],1)},s=[],c=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("v-uni-view",[l("t-tree-select",{attrs:{options:e.options,value:e.value},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onChange.apply(void 0,arguments)}}})],1)},u=[],d=(l(73645),l(52093),function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("v-uni-view",{class:e.classPrefix,style:e.tools._style(["height:"+e.tools.addUnit(e.height),e.customStyle])},[e._l(e.treeOptions,function(t,a){return l("t-scroll-view",{key:a,class:e.getScrollViewClass(a),attrs:{"t-class":e.getScrollViewTClass(a),"scroll-into-view":e.scrollIntoView&&e.scrollIntoView[a]?"scroll-to-"+e.scrollIntoView[a]:""}},[0==a?l("t-side-bar",{staticStyle:{width:"100%",height:"auto"},attrs:{value:e.innerValue[a],"t-class":e.classPrefix+"-column "+e.tClassLeftColumn},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onRootChange.apply(void 0,arguments)}}},e._l(e.treeOptions[a],function(t,a){return l("t-side-bar-item",{key:a,attrs:{label:t.label,value:t.value,disabled:t.disabled,"t-id":"scroll-to-"+t.value,"t-class":"scroll-into-view "+e.tClassLeftItem}})}),1):a!=e.leafLevel?e._l(e.treeOptions[a],function(t,n){return l("v-uni-view",{key:"view-"+a+"-"+n,class:e.tools.cls(e.classPrefix+"__item",[["active",t.value===e.innerValue[a]],["disabled",t.disabled]])+" "+e.tClassMiddleItem+" scroll-into-view",attrs:{"data-level":a,"data-value":t.value},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleTreeClick.apply(void 0,arguments)}}},[l("v-uni-view",{attrs:{id:"scroll-to-"+t.value}},[e._v(" "+e._s(t.label)+" ")])],1)}):e.multiple?l("t-checkbox-group",{attrs:{"t-class":e.classPrefix+"__checkbox "+e.tClassRightColumn,value:e.innerValue[a]||[],"data-level":a,"data-type":"multiple"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),function(t){var l=t.context;return e.handleChange({context:l,value:l.value,level:a,type:"multiple"})}.apply(void 0,arguments)}}},e._l(e.treeOptions[a],function(t,n){return l("t-checkbox",{key:"checkbox-"+e.innerValue[a-1]+"-"+a+"-"+n,attrs:{"t-id":"scroll-to-"+t.value,"t-class":"scroll-into-view "+e.tClassRightItem,"t-class-label":e.tClassRightItemLabel,placement:"right",icon:"line","max-label-row":1,value:t.value,disabled:t.disabled,borderless:!0}},[e._v(" "+e._s(t.label)+" ")])}),1):l("t-radio-group",{attrs:{"t-class":e.classPrefix+"__radio "+e.tClassRightColumn,"data-level":a,"data-type":"single",value:e.innerValue[a]},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),function(t){var l=t.value;return e.handleChange({value:l,level:a,type:"single"})}.apply(void 0,arguments)}}},e._l(e.treeOptions[a],function(t,n){return l("t-radio",{key:"radio-"+e.innerValue[a-1]+"-"+a+"-"+n,attrs:{"t-id":"scroll-to-"+t.value,"t-class":"scroll-into-view "+e.classPrefix+"__radio-item "+e.tClassRightItem,"t-class-label":e.tClassRightItemLabel,icon:"line",value:t.value,disabled:t.disabled,"max-label-row":1,borderless:!0,placement:"right"}},[e._v(" "+e._s(t.label)+" ")])}),1)],2)}),e._t("content")],2)}),v=[],h=l(85084),p=l(315),f=l(53712),m=l(70241),g=l(89681),b=l(67757),w=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("v-uni-scroll-view",{class:e.tClass,attrs:{type:"list","scroll-y":!0,enhanced:!0,"show-scrollbar":!1,"scroll-into-view":e.scrollIntoView}},[e._t("default")],2)},_=[],y=l(75070),C=l(15512);const x=`${C.Pl}-scroll-view`;var V,k=(0,y.o1)({name:x,options:{styleIsolation:"shared"},externalClasses:[`${C.Pl}-class`],props:{scrollIntoView:{type:[String,Number,null],default:null}},data(){return{}},watch:{},mounted(){},methods:{}}),T=k,S=l(1391),$=(0,S.A)(T,w,_,!1,null,"617b6815",null,!1,i,V),I=$.exports,A=l(12622),P=l(16205),O=(l(27439),{customValue:{type:[String,Number,Array]},height:{type:[String,Number],default:336},keys:{type:Object},multiple:Boolean,options:{type:Array,default:function(){return[]}},value:{type:[String,Number,Array]},defaultValue:{type:[String,Number,Array]},onChange:{type:Function,default:function(){return{}}}}),E=l(1383);const R=function(e,t){return 0===e?"right":1===e&&e!==t-1?"middle":"left"};var L=l(79864);const M=`${C.Pl}-tree-select`;var N,Y,B,D,j,z,G,U=(0,y.o1)({name:M,options:{styleIsolation:"shared"},controlledProps:[{key:"value",event:"change"}],externalClasses:[`${C.Pl}-class`,`${C.Pl}-class-left-column`,`${C.Pl}-class-left-item`,`${C.Pl}-class-middle-item`,`${C.Pl}-class-right-column`,`${C.Pl}-class-right-item`,`${C.Pl}-class-right-item-label`],components:{TRadio:h.A,TRadioGroup:p.A,TCheckbox:f.A,TCheckboxGroup:m.A,TSideBar:g.A,TSideBarItem:b.A,TScrollView:I},props:{...O},data(){return{prefix:C.Pl,classPrefix:M,scrollIntoView:null,tools:E.A,innerValue:(0,P.Yc)(this.value,this.defaultValue),treeOptions:[]}},computed:{},watch:{value:{handler(){this.buildTreeOptions()},deep:!0,immediate:!0},options:{handler(){this.buildTreeOptions()},deep:!0,immediate:!0},keys:{handler(){this.buildTreeOptions()},deep:!0,immediate:!0},multiple:"buildTreeOptions"},mounted(){(0,P.dY)().then(()=>{this.getScrollIntoView("init")})},methods:{getTreeClass:R,buildTreeOptions(){const{options:e,innerValue:t,customValue:l,multiple:a,keys:n}=this;if(!e.length)return;const o=[];let i=-1,r={children:e};while(r?.children){i+=1;const e=r.children.map(e=>({label:e[n?.label||"label"],value:e[n?.value||"value"],disabled:e[n?.disabled||"disabled"],children:e[n?.children||"children"]}));o.push(e);const a=(0,P.Yc)(l?.[i],t?.[i]);r=a?(0,P.Yc)(e.find(e=>e.value===a),e[0]):e[0]}const s=(0,P.Uf)(e,n?.children);while(o.length<s)o.push([]),i+=1;const c=Math.max(0,i),u=l||o.map((e,l)=>{const n=l===o.length-1,i=n&&a?[e[0]?.value]:e[0]?.value;return(0,P.Yc)(t?.[l],i)});this.innerValue=u,this.leafLevel=c,this.treeOptions=o},getScrollIntoView(e){const{innerValue:t,customValue:l,scrollIntoView:a}=this;if("init"===e){const e=l||t,a=Array.isArray(e)?e.map(e=>Array.isArray(e)?e[0]:e):[e];this.scrollIntoView=a}else{if(null===a)return;this.scrollIntoView=null}},onRootChange(e){const{innerValue:t}=this,{value:l}=e;this.getScrollIntoView("none"),t[0]=l,this._trigger("change",{value:t,level:0})},handleTreeClick(e){const{level:t,value:l}=e.currentTarget.dataset,{innerValue:a}=this;a[t]=l,this.getScrollIntoView("none"),this._trigger("change",{value:a,level:1})},handleChange({level:e,type:t,value:l}){const{innerValue:a}=this;if("multiple"===t){(0,A.C8)(a[e])||(a[e]=[]);const t=a[e].indexOf(l);-1===t?a[e].push(l):a[e].splice(t,1)}else a[e]=l;this.getScrollIntoView("none"),this._trigger("change",{value:a,level:e})},getScrollViewTClass(e){return(0,L.Tr)()?this.getScrollViewRealClass(e):""},getScrollViewClass(e){return(0,L.Tr)()?"":this.getScrollViewRealClass(e)},getScrollViewRealClass(e){const{classPrefix:t,leafLevel:l,treeOptions:a,tClass:n}=this;return`${E.A.cls(`${t}__column`,[R(l-e,a.length)])} ${n}`}}}),F=U,W=(l(98848),(0,S.A)(F,d,v,!1,null,"0aaed9c2",null,!1,o,N)),q=W.exports,H="一二三四五六七八九十".split(""),J=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,l=arguments.length>2?arguments[2]:void 0,a=[],n=0;n<t;n+=1){var o=l?"".concat(l,"-").concat(n):"".concat(n),i={label:"选项".concat(H[n]),value:o};e>0&&(i.children=J(e-1,10,o)),a.push(i)}return a},K={components:{TTreeSelect:q},data:function(){return{options:J(1),value:["5","5-5"]}},created:function(){},methods:{onChange:function(e){console.log("change: ",e),this.value=e.value}}},Q=K,X=(0,S.A)(Q,c,u,!1,null,"7ebabf96",null,!1,n,Y),Z=X.exports,ee=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("v-uni-view",[l("t-tree-select",{attrs:{options:e.options,value:e.value,multiple:!0},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onChange.apply(void 0,arguments)}}})],1)},te=[],le="一二三四五六七八九十".split(""),ae=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,l=arguments.length>2?arguments[2]:void 0,a=[],n=0;n<t;n+=1){var o=l?"".concat(l,"-").concat(n):"".concat(n),i={label:"选项".concat(le[n]),value:o};e>0&&(i.children=ae(e-1,10,o)),a.push(i)}return a},ne={components:{TTreeSelect:q},data:function(){return{options:ae(1),value:["5",["5-0","5-1"]]}},created:function(){},methods:{onChange:function(e){console.log("change: ",e),this.value=e.value}}},oe=ne,ie=(0,S.A)(oe,ee,te,!1,null,"560d84fb",null,!1,B,D),re=ie.exports,se=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("v-uni-view",[l("t-tree-select",{attrs:{options:e.options,value:e.value},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onChange.apply(void 0,arguments)}}})],1)},ce=[],ue=(l(17932),l(19329),l(2657),l(77332),l(10165),l(25241),{provinces:{11e4:"北京市",44e4:"广东省"},cities:{110100:"北京市",440100:"广州市",440200:"韶关市",440300:"深圳市",440400:"珠海市",440500:"汕头市",440600:"佛山市"},counties:{110101:"东城区",110102:"西城区",110105:"朝阳区",110106:"丰台区",110107:"石景山区",110108:"海淀区",110109:"门头沟区",110111:"房山区",110112:"通州区",110113:"顺义区",110114:"昌平区",110115:"大兴区",110116:"怀柔区",110117:"平谷区",110118:"密云区",110119:"延庆区",440103:"荔湾区",440104:"越秀区",440105:"海珠区",440106:"天河区",440111:"白云区",440112:"黄埔区",440113:"番禺区",440114:"花都区",440115:"南沙区",440117:"从化区",440118:"增城区",440203:"武江区",440204:"浈江区",440205:"曲江区",440222:"始兴县",440224:"仁化县",440229:"翁源县",440232:"乳源瑶族自治县",440233:"新丰县",440281:"乐昌市",440282:"南雄市",440303:"罗湖区",440304:"福田区",440305:"南山区",440306:"宝安区",440307:"龙岗区",440308:"盐田区",440309:"龙华区",440310:"坪山区",440311:"光明区",440402:"香洲区",440403:"斗门区",440404:"金湾区",440507:"龙湖区",440511:"金平区",440512:"濠江区",440513:"潮阳区",440514:"潮南区",440515:"澄海区",440523:"南澳县",440604:"禅城区",440605:"南海区",440606:"顺德区",440607:"三水区",440608:"高明区"}}),de=function(){var e=ue.provinces,t=ue.cities,l=ue.counties,a=[],n=function(e,t){return Object.keys(e).forEach(t)},o=function(e,t,l){return parseInt(e/l,10)===parseInt(t/l,10)};return n(e,function(i){var r=[];n(t,function(e){var a=[];o(e,i,1e4)&&(n(l,function(t){o(t,e,100)&&a.push({label:l[t],value:t})}),r.push({label:t[e],value:e,children:a}))});var s={label:e[i],value:i,children:r};a.push(s)}),a},ve={components:{TTreeSelect:q},data:function(){return{options:de(),value:["110000","110100","110101"]}},created:function(){},methods:{onChange:function(e){console.log("change: ",e),this.value=e.value}}},he=ve,pe=(0,S.A)(he,se,ce,!1,null,"74343626",null,!1,j,z),fe=pe.exports,me={components:{BaseDemo:Z,MultipleDemo:re,NormalDemo:fe},data:function(){return{}},methods:{}},ge=me,be=(0,S.A)(ge,r,s,!1,null,"3c6db9b2",null,!1,a,G),we=be.exports},98848:function(e,t,l){var a=l(99829);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var n=l(31997).A;n("31ee7472",a,!0,{sourceMap:!1,shadowMode:!1})},99829:function(e,t,l){"use strict";l.r(t);var a=l(22093),n=l.n(a),o=l(12670),i=l.n(o),r=i()(n());r.push([e.id,".t-tree-select[data-v-0aaed9c2]{display:flex;background-color:var(--td-tree-bg-color,var(--td-bg-color-container,var(--td-font-white-1,#fff)))}[data-v-0aaed9c2] .t-tree-select__column{width:var(--td-tree-colum-width,103px);color:var(--td-tree-colum-text-color,var(--td-text-color-primary,var(--td-font-gray-1,rgba(0,0,0,.9))))}[data-v-0aaed9c2] .t-tree-select__column--left{background:var(--td-tree-root-bg-color,var(--td-bg-color-secondarycontainer,var(--td-gray-color-1,#f3f3f3)))}[data-v-0aaed9c2] .t-tree-select__column--right{flex:1}[data-v-0aaed9c2] .t-tree-select__column::-webkit-scrollbar{display:none;width:0;height:0;color:transparent}.t-tree-select__item[data-v-0aaed9c2]{overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:1;display:-webkit-box;-webkit-box-orient:vertical;height:var(--td-tree-item-height,56px);line-height:var(--td-tree-item-height,56px);font-size:var(--td-tree-item-font-size,16px);padding-left:%?32?%}.t-tree-select__item--active[data-v-0aaed9c2]{font-weight:600;color:var(--td-tree-item-active-color,var(--td-brand-color,var(--td-primary-color-7,#0052d9)))}.t-tree-select__item--disabled[data-v-0aaed9c2]{pointer-events:none;cursor:not-allowed;color:var(--td-tree-item-disabled-color,var(--td-text-color-disabled,var(--td-font-gray-4,rgba(0,0,0,.26))))}[data-v-0aaed9c2] .t-tree-select-column{width:100%;height:auto}",""]),t["default"]=r}}]);