(self["webpackChunktdesign_uniapp_vue2_cli"]=self["webpackChunktdesign_uniapp_vue2_cli"]||[]).push([[4952],{4585:function(t,e,i){"use strict";i.r(e);var n=i(22093),s=i.n(n),o=i(12670),r=i.n(o),l=r()(s());l.push([t.id,".t-sticky[data-v-6052ae4c]{position:relative}",""]),e["default"]=l},6947:function(t,e,i){"use strict";var n;i.d(e,{A:function(){return S}});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{class:t.classPrefix+" "+t.tClass,style:t.tools._style(["z-index:"+t.zIndex,t.containerStyle,t.customStyle])},[i("v-uni-view",{class:t.classPrefix+"__content "+t.tClassContent,style:t.tools._style(["z-index:"+t.zIndex,t.contentStyle])},[t._t("default")],2)],1)},o=[],r=i(33913),l=(i(27439),{container:{type:Function},disabled:Boolean,offsetTop:{type:[String,Number],default:0},zIndex:{type:Number,default:99},onScroll:{type:Function,default:function(){return{}}}}),c=i(38207),a=i(54197),f=i(56792),h=i(78282);const u=`${c.Pl}-sticky`,d=`.${u}`;var p,v=(0,r.o1)({name:u,options:{styleIsolation:"shared"},externalClasses:[`${c.Pl}-class`,`${c.Pl}-class-content`],mixins:[(0,a.Ay)()],props:{...l},data(){return{prefix:c.Pl,classPrefix:u,containerStyle:"",contentStyle:"",tools:h.A}},watch:{offsetTop:"onScroll",disabled:"onScroll",container:"onScroll"},mounted(){this.onScroll()},methods:{onScroll(t){const{scrollTop:e}=t||{},{container:i,offsetTop:n,disabled:s}=this;s?this.setDataAfterDiff({isFixed:!1,transform:0}):(this.scrollTop=e||this.scrollTop,"function"!==typeof i?(0,f.l)(this,d).then(t=>{t&&(n>=t.top?(this.setDataAfterDiff({isFixed:!0,height:t.height}),this.transform=0):this.setDataAfterDiff({isFixed:!1}))}):Promise.all([(0,f.l)(this,d),this.getContainerRect()]).then(([t,e])=>{t&&e&&(n+t.height>e.height+e.top?this.setDataAfterDiff({isFixed:!1,transform:e.height-t.height}):n>=t.top?this.setDataAfterDiff({isFixed:!0,height:t.height,transform:0}):this.setDataAfterDiff({isFixed:!1,transform:0}))}))},setDataAfterDiff(t){const{offsetTop:e}=this,{containerStyle:i,contentStyle:n}=this,{isFixed:s,height:o,transform:r}=t;(0,f.dY)().then(()=>{let t="",l="";if(s&&(t+=`height:${o}px;`,l+=`position:fixed;top:${e}px;left:0;right:0;`),r){const t=`translate3d(0, ${r}px, 0)`;l+=`-webkit-transform:${t};transform:${t};`}i===t&&n===l||(this.containerStyle=t,this.contentStyle=l),this.$emit("scroll",{scrollTop:this.scrollTop,isFixed:s})})},getContainerRect(){const t=this.container();return new Promise(e=>t.boundingClientRect(e).exec())}}}),g=v,m=(i(94080),i(1391)),y=(0,m.A)(g,s,o,!1,null,"6052ae4c",null,!1,n,p),S=y.exports},15332:function(t,e,i){"use strict";i(60963),i(52093),i(17932),i(86204),i(19329),i(77332),i(47402),i(29035),i(25241);var n=i(11005),s=i(33430),o=/scroll|auto|overlay/i,r=new s.A,l="page-scroll",c=function(t){var e=(0,n.p$)();if(e){var i=e.pageScroller;null===i||void 0===i||i.forEach(function(e){"function"===typeof e&&e(t)})}};function a(t,e){void 0===e&&(e=window);var i=t;while(i&&"HTML"!==i.tagName&&"BODY"!==i.tagName&&1===i.nodeType&&i!==e){var n=window.getComputedStyle(i),s=n.overflowY;if(o.test(s))return i;i=i.parentNode}return e}e.Ay=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"onScroll",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=!1,{mounted:function(){if(e)r.on(l,this[t]);else{this._scroller=a(this.$el),this._scroller&&this._scroller.addEventListener("scroll",this._bindScroller);var i=(0,n.p$)();i&&(Array.isArray(i.pageScroller)?i.pageScroller.push(this._bindScroller):i.pageScroller="function"===typeof i.onPageScroll?[i.onPageScroll.bind(i),this._bindScroller]:[this._bindScroller],i.onPageScroll=c)}},beforeUnMount:function(){var i,s=this;if(e)r.off(l,this[t]);else{this._scroller&&this._scroller.removeEventListener("scroll",this._bindScroller);var o=(0,n.p$)();o&&(o.pageScroller=(null===(i=o.pageScroller)||void 0===i?void 0:i.filter(function(t){return t!==s._bindScroller}))||[])}},methods:{_bindScroller:function(e){var i,n;return n=null===(i=this[t])||void 0===i?void 0:i.call(this,e.target),n}}}}},21049:function(t,e,i){var n=i(68364);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(31997).A;s("2068a1e0",n,!0,{sourceMap:!1,shadowMode:!1})},25134:function(t,e,i){"use strict";var n=i(15277),s=i(59357);n("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},s)},33430:function(t,e,i){"use strict";i.d(e,{A:function(){return r}});var n=i(45824),s=i(83648),o=i(73086),r=(i(33755),i(52093),i(22837),i(56704),i(77332),i(39221),i(57100),function(){function t(){(0,s.A)(this,t),this.listeners=new Map,this.emitted=new Map,this.onceListeners=new Map}return(0,o.A)(t,[{key:"on",value:function(t,e){var i=this.listeners.get(t)||[];i.push(e),this.listeners.set(t,i),this.emitted.has(t)&&e.apply(void 0,(0,n.A)(this.emitted.get(t)))}},{key:"once",value:function(t,e){var i=this;if(this.emitted.has(t))e.apply(void 0,(0,n.A)(this.emitted.get(t)));else{var s=function(){e.apply(void 0,arguments),i.off(t,s)},o=this.onceListeners.get(t)||new Map;o.set(e,s),this.onceListeners.set(t,o),this.on(t,s)}}},{key:"emit",value:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];this.emitted.set(t,i);var o=this.listeners.get(t)||[];(0,n.A)(o).forEach(function(t){return t.apply(void 0,i)})}},{key:"off",value:function(t,e){if(e){var i=this.onceListeners.get(t);if(i&&i.has(e)){var n=i.get(e);return this._removeListener(t,n),void i.delete(e)}this._removeListener(t,e)}else this.listeners.delete(t),this.onceListeners.delete(t),this.emitted.delete(t)}},{key:"_removeListener",value:function(t,e){var i=this.listeners.get(t);if(i){var n=i.indexOf(e);n>-1&&(i.splice(n,1),0===i.length&&this.listeners.delete(t))}}}])}())},54197:function(t,e,i){"use strict";i.d(e,{ly:function(){return f}});var n=i(56792),s=i(93063);const o=/scroll|auto|overlay/i,r=new s.A,l="page-scroll",c=function(t){const e=(0,n.p$)();if(!e)return;const{pageScroller:i}=e;i?.forEach(e=>{"function"===typeof e&&e(t)})};function a(t,e){void 0===e&&(e=window);let i=t;while(i&&"HTML"!==i.tagName&&"BODY"!==i.tagName&&1===i.nodeType&&i!==e){const{overflowY:t}=window.getComputedStyle(i);if(o.test(t))return i;i=i.parentNode}return e}function f(t){return r.emit(l,t),r}e.Ay=(t="onScroll",e=!0)=>(e=!1,{mounted(){if(e)return void r.on(l,this[t]);this._scroller=a(this.$el),this._scroller&&this._scroller.addEventListener("scroll",this._bindScroller);const i=(0,n.p$)();i&&(Array.isArray(i.pageScroller)?i.pageScroller.push(this._bindScroller):i.pageScroller="function"===typeof i.onPageScroll?[i.onPageScroll.bind(i),this._bindScroller]:[this._bindScroller],i.onPageScroll=c)},beforeUnMount(){if(e)return void r.off(l,this[t]);this._scroller&&this._scroller.removeEventListener("scroll",this._bindScroller);const i=(0,n.p$)();i&&(i.pageScroller=i.pageScroller?.filter(t=>t!==this._bindScroller)||[])},methods:{_bindScroller(e){let i;return i=this[t]?.call(this,e.target),i=this[t]?.call(this,e),i}}})},56704:function(t,e,i){"use strict";i(25134)},68364:function(t,e,i){"use strict";i.r(e);var n=i(22093),s=i.n(n),o=i(12670),r=i.n(o),l=r()(s());l.push([t.id,".t-sticky[data-v-b1394370]{position:relative}",""]),e["default"]=l},93063:function(t,e,i){"use strict";i.d(e,{A:function(){return n}});class n{constructor(){this.listeners=new Map,this.emitted=new Map,this.onceListeners=new Map}on(t,e){const i=this.listeners.get(t)||[];i.push(e),this.listeners.set(t,i),this.emitted.has(t)&&e(...this.emitted.get(t))}once(t,e){if(this.emitted.has(t))return void e(...this.emitted.get(t));const i=(...n)=>{e(...n),this.off(t,i)},n=this.onceListeners.get(t)||new Map;n.set(e,i),this.onceListeners.set(t,n),this.on(t,i)}emit(t,...e){this.emitted.set(t,e);const i=this.listeners.get(t)||[];[...i].forEach(t=>t(...e))}off(t,e){if(e){const i=this.onceListeners.get(t);if(i&&i.has(e)){const n=i.get(e);return this._removeListener(t,n),void i.delete(e)}this._removeListener(t,e)}else this.listeners.delete(t),this.onceListeners.delete(t),this.emitted.delete(t)}_removeListener(t,e){const i=this.listeners.get(t);if(!i)return;const n=i.indexOf(e);n>-1&&(i.splice(n,1),0===i.length&&this.listeners.delete(t))}}},94080:function(t,e,i){var n=i(4585);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(31997).A;s("2dc39368",n,!0,{sourceMap:!1,shadowMode:!1})},96226:function(t,e,i){"use strict";var n;i.d(e,{A:function(){return _}});var s,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{class:t.classPrefix+" "+t.tClass,style:t.tools._style(["z-index:"+t.zIndex,t.containerStyle,t.customStyle])},[i("v-uni-view",{class:t.classPrefix+"__content "+t.tClassContent,style:t.tools._style(["z-index:"+t.zIndex,t.contentStyle])},[t._t("default")],2)],1)},r=[],l=i(80256),c=i(70012),a=(i(73645),i(77332),i(47402),i(39221),i(57100),i(88070)),f=(i(27439),{container:{type:Function},disabled:Boolean,offsetTop:{type:[String,Number],default:0},zIndex:{type:Number,default:99},onScroll:{type:Function,default:function(){return{}}}}),h=i(46056),u=i(15332),d=i(11005),p=i(10263),v="".concat(h.Pl,"-sticky"),g=".".concat(v),m=(0,a.o1)({name:v,options:{styleIsolation:"shared"},externalClasses:["".concat(h.Pl,"-class"),"".concat(h.Pl,"-class-content")],mixins:[(0,u.Ay)()],props:(0,c.A)({},f),data:function(){return{prefix:h.Pl,classPrefix:v,containerStyle:"",contentStyle:"",tools:p.A}},watch:{offsetTop:"onScroll",disabled:"onScroll",container:"onScroll"},mounted:function(){this.onScroll()},methods:{onScroll:function(t){var e=this,i=t||{},n=i.scrollTop,s=this.container,o=this.offsetTop,r=this.disabled;r?this.setDataAfterDiff({isFixed:!1,transform:0}):(this.scrollTop=n||this.scrollTop,"function"!==typeof s?(0,d.l)(this,g).then(function(t){t&&(o>=t.top?(e.setDataAfterDiff({isFixed:!0,height:t.height}),e.transform=0):e.setDataAfterDiff({isFixed:!1}))}):Promise.all([(0,d.l)(this,g),this.getContainerRect()]).then(function(t){var i=(0,l.A)(t,2),n=i[0],s=i[1];n&&s&&(o+n.height>s.height+s.top?e.setDataAfterDiff({isFixed:!1,transform:s.height-n.height}):o>=n.top?e.setDataAfterDiff({isFixed:!0,height:n.height,transform:0}):e.setDataAfterDiff({isFixed:!1,transform:0}))}))},setDataAfterDiff:function(t){var e=this,i=this.offsetTop,n=this.containerStyle,s=this.contentStyle,o=t.isFixed,r=t.height,l=t.transform;(0,d.dY)().then(function(){var t="",c="";if(o&&(t+="height:".concat(r,"px;"),c+="position:fixed;top:".concat(i,"px;left:0;right:0;")),l){var a="translate3d(0, ".concat(l,"px, 0)");c+="-webkit-transform:".concat(a,";transform:").concat(a,";")}n===t&&s===c||(e.containerStyle=t,e.contentStyle=c),e.$emit("scroll",{scrollTop:e.scrollTop,isFixed:o})})},getContainerRect:function(){var t=this.container();return new Promise(function(e){return t.boundingClientRect(e).exec()})}}}),y=m,S=(i(21049),i(1391)),x=(0,S.A)(y,o,r,!1,null,"b1394370",null,!1,n,s),_=x.exports}}]);