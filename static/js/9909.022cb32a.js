(self["webpackChunktdesign_uniapp_vue2_cli"]=self["webpackChunktdesign_uniapp_vue2_cli"]||[]).push([[9909],{3545:function(e,t,a){var l=a(77480);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var i=a(31997).A;i("8f7706cc",l,!0,{sourceMap:!1,shadowMode:!1})},59909:function(e,t,a){"use strict";var l;a.d(t,{A:function(){return y}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{class:e.classPrefix,style:e.tools._style([e.customStyle])},[a("v-uni-view",{class:e.classPrefix+"__wrapper "+e.tClass,style:"font-size:"+e.utils.regSize(e.size),attrs:{"aria-role":"slider","aria-valuemax":e.count,"aria-valuemin":0,"aria-valuenow":e.dataValue,"aria-valuetext":e.utils.getText(e.texts,e.dataValue,e.defaultTexts)},on:{touchstart:function(t){arguments[0]=t=e.$handleEvent(t),e.parseEventDynamicCode(t,e.disabled?"":"onTouchStart")},touchmove:function(t){arguments[0]=t=e.$handleEvent(t),e.parseEventDynamicCode(t,e.disabled?"":"onTouchMove")},click:function(t){arguments[0]=t=e.$handleEvent(t),e.onTap.apply(void 0,arguments)},touchend:function(t){arguments[0]=t=e.$handleEvent(t),e.parseEventDynamicCode(t,e.disabled?"":"onTouchEnd")},touchcancel:function(t){arguments[0]=t=e.$handleEvent(t),e.parseEventDynamicCode(t,e.disabled?"":"onTouchEnd")}}},e._l(e.count,function(t,l){return a("t-icon",{key:l,attrs:{"t-class":e.classPrefix+"__icon "+e.utils.getIconClass(e.classPrefix+"__icon",e.defaultValue,e.dataValue,l,e.allowHalf,e.disabled,e.scaleIndex)+" "+e.tClassIcon,"custom-style":"margin-right: "+(e.count-l>1?e.tools.addUnit(e.gap):0)+"; "+e.utils.getColor(e.color),name:e.utils.getIconName(e.defaultValue,e.dataValue,l,e.icon),size:e.size,prefix:e.iconPrefix}})}),1),e.showText?a("v-uni-text",{class:e.tools.cls(e.classPrefix+"__text",[["active",e.dataValue>0]])+" "+e.tClassText,attrs:{"aria-hidden":!0}},[e._v(" "+e._s(e.utils.getText(e.texts,e.dataValue,e.defaultTexts))+" ")]):e._e(),e.isVisibleToScreenReader?a("v-uni-text",{class:e.tools.cls(e.classPrefix+"__text",[["active",e.dataValue>0],["sr-only",e.isVisibleToScreenReader]])+" "+e.tClassText,attrs:{"aria-role":"alert","aria-live":"assertive"}},[e._v(" "+e._s(e.dataValue+"星")+" "+e._s(e.utils.getText(e.texts,e.dataValue,e.defaultTexts))+" ")]):e._e(),e.tipsVisible&&e.placement?a("v-uni-view",{class:e.tools.cls(e.classPrefix+"__tips",[e.placement]),style:"left: "+e.tipsLeft+"px",attrs:{"aria-hidden":!0}},["tap"==e.actionType?[e.allowHalf?a("v-uni-view",{class:e.tools.cls(e.classPrefix+"__tips-item",[["active",e.utils.ceil(e.dataValue)-.5==e.dataValue]]),attrs:{"data-value":e.utils.ceil(e.dataValue)-.5},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onSelect.apply(void 0,arguments)}}},[a("t-icon",{attrs:{"t-class":e.classPrefix+"__icon "+e.classPrefix+"__icon--selected-half",name:e.utils.getIconName(e.defaultValue,e.dataValue,0,e.icon),size:e.size,"custom-style":e.utils.getColor(e.color)}}),a("v-uni-view",{class:e.classPrefix+"__tips-text"},[e._v(" "+e._s(e.utils.ceil(e.dataValue)-.5)+" ")])],1):e._e(),a("v-uni-view",{class:e.tools.cls(e.classPrefix+"__tips-item",[["active",e.utils.ceil(e.dataValue)==e.dataValue]]),attrs:{"data-value":e.utils.ceil(e.dataValue)},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onSelect.apply(void 0,arguments)}}},[a("t-icon",{attrs:{"t-class":e.tools.cls(e.classPrefix+"__icon",["selected"]),name:e.utils.getIconName(e.defaultValue,0,0,e.icon),size:e.size,"custom-style":e.utils.getColor(e.color)}}),a("v-uni-view",{class:e.classPrefix+"__tips-text"},[e._v(" "+e._s(e.utils.ceil(e.dataValue))+" ")])],1)]:a("v-uni-view",{class:e.tools.cls(e.classPrefix+"__tips-item",[["active",e.utils.ceil(e.dataValue)==e.dataValue&&"tap"==e.actionType]]),attrs:{"data-value":e.utils.ceil(e.dataValue)},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onSelect.apply(void 0,arguments)}}},[a("t-icon",{attrs:{"t-class":e.tools.cls(e.classPrefix+"__icon",[["selected",e.utils.ceil(e.dataValue)==e.dataValue],["selected-half",e.utils.ceil(e.dataValue)!=e.dataValue]]),name:e.utils.getIconName(e.defaultValue,0,0,e.icon),size:e.size,"custom-style":e.utils.getColor(e.color)}}),a("v-uni-view",{class:e.classPrefix+"__tips-text"},[e._v(" "+e._s(e.dataValue)+" ")])],1)],2):e._e()],1)},s=[],o=a(99105),r=a(75070),n=a(15512),c=(a(26128),a(27439),{allowHalf:Boolean,color:{type:[String,Array],default:"#ED7B2F"},count:{type:Number,default:5},disabled:{type:Boolean,default:void 0},gap:{type:[String,Number],default:8},icon:{type:[String,Array]},iconPrefix:{type:String,default:void 0},placement:{type:String,default:"top",validator:function(e){return!e||["top","bottom",""].includes(e)}},showText:Boolean,size:{type:[String,Number],default:"24px"},texts:{type:Array,default:function(){return[]}},value:{type:Number,default:0},defaultValue:{type:Number,default:0},variant:{type:String,default:"outline",validator:function(e){return!e||["outline","filled"].includes(e)}},onChange:{type:Function,default:function(){return{}}}}),d=a(16205),u=a(1383),p={getText(e,t,a){e.length||(e=a);const l=Math.floor(t-1);return e[l]||"未评分"},getIconName(e,t,a,l){const i=t>=0?t:e;let s=["star-filled","star-filled"];return l&&(s=Array.isArray(l)?l:[l,l]),s[i>=a+1?0:1]},getIconClass(e,t,a,l,i,s,o){const r=a>=0?a:t,n=[];return r>=l+1?(n.push(`${e}--selected`),s&&n.push(`${e}--disabled`),o===l+1&&n.push(`${e}--current`)):i&&r-l>0?(n.push(`${e}--selected-half`),o===l+1&&n.push(`${e}--current`),s&&n.push(`${e}--disabled-half`)):n.push(`${e}--unselected`),n.join(" ")},ceil(e){return Math.ceil(e)},getColor(e){return Array.isArray(e)&&2===e.length?`;--td-rate-selected-color: ${e[0]}; --td-rate-unselected-color: ${e[1]}`:"string"===typeof e?`;--td-rate-selected-color: ${e}`:""},regSize(e){const t=`${e}`;return t.indexOf("px")?t:`${t}px`}},v=a(83038);const f=`${n.Pl}-rate`;var h,x=(0,r.o1)({name:f,options:{styleIsolation:"shared"},controlledProps:[{key:"value",event:"change"}],externalClasses:[`${n.Pl}-class`,`${n.Pl}-class-icon`,`${n.Pl}-class-text`],components:{TIcon:o.A},props:{...c},data(){return{prefix:n.Pl,classPrefix:f,defaultTexts:["极差","失望","一般","满意","惊喜"],tipsVisible:!1,tipsLeft:0,actionType:"",scaleIndex:-1,isVisibleToScreenReader:!1,tools:u.A,utils:p,dataValue:(0,d.Yc)(this.value,this.defaultValue)}},watch:{value:{handler(e){this.dataValue=e},immediate:!0}},mounted(){},methods:{parseEventDynamicCode:v.s,onTouch(e,t){const{count:a,allowHalf:l,gap:i,dataValue:s,size:o}=this;let r=e.changedTouches?.[0];const n=(0,d.Gz)(i);(0,d.l)(this,`.${f}__wrapper`).then(e=>{const{width:c,left:u}=e,p=(c-(a-1)*n)/a,v=r.pageX-u,f=(v+n)/(p+n),h=f%1,x=f-h;let g=h<=.5&&l?x+.5:x+1;g>a?g=a:g<0&&(g=0);const _=Math.ceil(g-1)*((0,d.Gz)(i)+(0,d.Gz)(o))+.5*(0,d.Gz)(o);this.tipsVisible=!0,this.actionType=t,this.scaleIndex=Math.ceil(g),this.tipsLeft=Math.max(_,0),g!==s&&this.innerTrigger(g),this.touchEnd&&this.hideTips()})},innerTrigger(e){this._trigger("change",{value:e}),this._selfControlled&&(this.currentValue=e)},onTap(e){const{disabled:t}=this;t||this.onTouch(e,"tap")},onTouchStart(){this.touchEnd=!1},onTouchMove(e){this.onTouch(e,"move"),this.showAlertText()},onTouchEnd(){this.touchEnd=!0,this.hideTips()},hideTips(){"move"===this.actionType&&(this.tipsVisible=!1,this.scaleIndex=-1)},onSelect(e){const{value:t}=e.currentTarget.dataset,{actionType:a}=this;"move"!==a&&(this.innerTrigger(t),setTimeout(()=>{this.tipsVisible=!1,this.scaleIndex=-1},300))},showAlertText(){!0!==this.isVisibleToScreenReader&&(this.isVisibleToScreenReader=!0,setTimeout(()=>{this.isVisibleToScreenReader=!1},2e3))}}}),g=x,_=(a(3545),a(1391)),m=(0,_.A)(g,i,s,!1,null,"4eead4c8",null,!1,l,h),y=m.exports},77480:function(e,t,a){"use strict";a.r(t);var l=a(22093),i=a.n(l),s=a(12670),o=a.n(s),r=o()(i());r.push([e.id,".t-rate[data-v-4eead4c8]{position:relative;display:flex;align-items:center;justify-content:flex-start}.t-rate__wrapper[data-v-4eead4c8]{line-height:1em;display:inline-flex}[data-v-4eead4c8] .t-rate__icon{display:block;line-height:1em;width:1em;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}[data-v-4eead4c8] .t-rate__icon--current{-webkit-transform:scale(var(--td-rate-icon-scale,1.33));transform:scale(var(--td-rate-icon-scale,1.33))}[data-v-4eead4c8] .t-rate__icon--selected{color:var(--td-rate-selected-color,var(--td-warning-color,var(--td-warning-color-5,#e37318)))}[data-v-4eead4c8] .t-rate__icon--selected-half{color:transparent;background:linear-gradient(to right,var(--td-rate-selected-color,var(--td-warning-color,var(--td-warning-color-5,#e37318))) 0,var(--td-rate-selected-color,var(--td-warning-color,var(--td-warning-color-5,#e37318))) 50%,var(--td-rate-unselected-color,var(--td-component-border,var(--td-gray-color-4,#dcdcdc))) 51%,var(--td-rate-unselected-color,var(--td-component-border,var(--td-gray-color-4,#dcdcdc))) 100%);-webkit-background-clip:text;background-clip:text}[data-v-4eead4c8] .t-rate__icon--unselected{color:var(--td-rate-unselected-color,var(--td-component-border,var(--td-gray-color-4,#dcdcdc)))}.t-rate__text[data-v-4eead4c8]{font-size:var(--td-rate-text-font-size,var(--td-font-size-m,16px));color:var(--td-rate-text-color,var(--td-text-color-disabled,var(--td-font-gray-4,rgba(0,0,0,.26))));margin-left:%?32?%;vertical-align:middle}.t-rate__text--active[data-v-4eead4c8]{color:var(--td-rate-text-active-color,var(--td-text-color-primary,var(--td-font-gray-1,rgba(0,0,0,.9))));font-weight:var(--td-rate-text-active-font-weight,600)}.t-rate__text--sr-only[data-v-4eead4c8]{position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;-webkit-clip-path:inset(50%);clip-path:inset(50%);border:0}.t-rate__tips[data-v-4eead4c8]{position:absolute;display:flex;align-items:center;bottom:calc(100% + %?16?%);padding:%?8?%;border-radius:%?12?%;box-shadow:var(--td-shadow-1,0 1px 10px rgba(0,0,0,.05),0 4px 5px rgba(0,0,0,.08),0 2px 4px -1px rgba(0,0,0,.12));background-color:var(--td-bg-color-container,var(--td-font-white-1,#fff));-webkit-transform:translateX(-50%);transform:translateX(-50%)}.t-rate__tips--bottom[data-v-4eead4c8]{top:calc(100% + %?16?%);bottom:auto}.t-rate__tips-item[data-v-4eead4c8]{display:flex;flex-direction:column;align-items:center;width:%?64?%;border-radius:%?6?%}.t-rate__tips-item--active[data-v-4eead4c8]{background-color:var(--td-bg-color-component,var(--td-gray-color-3,#e7e7e7))}.t-rate__tips-text[data-v-4eead4c8]{text-align:center;font:var(--td-font-body-medium,14px/22px var(--td-font-family,PingFang SC,Microsoft YaHei,Arial Regular))}",""]),t["default"]=r}}]);