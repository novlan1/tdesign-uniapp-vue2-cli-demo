(self["webpackChunktdesign_uniapp_vue2_cli"]=self["webpackChunktdesign_uniapp_vue2_cli"]||[]).push([[1410],{21410:function(t,e,a){"use strict";var i;a.d(e,{A:function(){return S}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("TPopup",{class:t.tClass,attrs:{visible:t.dataVisible,placement:"bottom"},on:{"visible-change":function(e){arguments[0]=e=t.$handleEvent(e),t.onVisibleChange.apply(void 0,arguments)}}},[a("v-uni-view",{class:t.name,style:t.tools._style([t.customStyle])},[a("v-uni-view",{class:t.name+"__title"},[t._t("title"),t._v(" "+t._s(t.title)+" ")],2),a("v-uni-view",{class:t.name+"__close-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClose.apply(void 0,arguments)}}},[t._t("close-btn"),t.closeBtn?a("TIcon",{attrs:{size:"48rpx",name:"close"}}):t._e()],2),t._t("header"),a("v-uni-view",{class:t.name+"__content"},[t.steps&&t.steps.length?["step"==t.theme?a("v-uni-view",{class:t.name+"__steps"},t._l(t.steps,function(e,i){return a("v-uni-view",{key:i,class:t.name+"__step",attrs:{"data-index":i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),function(){return t.onStepClick(i)}.apply(void 0,arguments)}}},[a("v-uni-view",{class:t.name+"__step-dot "+t.name+"__step-dot--"+(e!==t.placeholder?"active":"")+" "+t.name+"__step-dot--"+(i===t.steps.length-1?"last":"")}),a("v-uni-view",{class:t.name+"__step-label "+t.name+"__step-label--"+(i===t.stepIndex?"active":"")},[t._v(" "+t._s(e)+" ")]),a("TIcon",{staticStyle:{"margin-left":"auto"},attrs:{name:"chevron-right",size:"44rpx","t-class":t.name+"__step-arrow","custom-style":t.stepArrowCustomStyle}})],1)}),1):t._e(),"tab"==t.theme?a("TTabs",{ref:"tabs",attrs:{value:t.stepIndex,"space-evenly":!1},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),function(e){var a=e.value;return t.onTabChange(a)}.apply(void 0,arguments)}}},t._l(t.steps,function(t,e){return a("TTabPanel",{key:e,ref:"tab-"+e,refInFor:!0,attrs:{value:e,label:t}})}),1):t._e()]:t._e(),t._t("middle-content"),t.subTitles&&t.subTitles[t.stepIndex]?a("v-uni-view",{class:t.name+"__options-title"},[t._v(" "+t._s(t.subTitles[t.stepIndex])+" ")]):t._e(),a("v-uni-view",{class:t.name+"__options-container",style:"width: "+(t.items.length+1)+"00vw; transform: translateX(-"+t.stepIndex+"00vw)"},t._l(t.items,function(e,i){return a("v-uni-scroll-view",{key:i,class:t.name+"__options",style:"height: "+t._optionsHeight+"px",attrs:{"scroll-y":!0,"scroll-top":t.scrollTopList[i],type:"list"}},[a("v-uni-view",{class:"cascader-radio-group-"+i},[a("TRadioGroup",{attrs:{value:t.selectedValue[i],keys:t.keys,options:e,"data-level":i,placement:"right",icon:"line",borderless:!0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),function(a){var n=a.value;return t.handleSelect(e,{level:i,value:n})}.apply(void 0,arguments)}}})],1)],1)}),1)],2)],2)],1)],1)},s=[],l=a(45824),r=a(35927),o=a(80256),c=a(38730),d=a(70012),u=a(57274),v=(a(73645),a(60963),a(60035),a(26128),a(88803),a(52093),a(56631),a(14255),a(69308),a(17932),a(86204),a(96466),a(39452),a(64189),a(77332),a(10102),a(39221),a(57100),a(14867)),h=a(67006),p=a(26231),f=a(21023),g=a(29757),b=a(88070),m=a(46056),_=(a(27439),{checkStrictly:Boolean,closeBtn:{type:Boolean,default:!0},keys:{type:Object},options:{type:Array,default:function(){return[]}},placeholder:{type:String,default:"选择选项"},subTitles:{type:Array,default:function(){return[]}},theme:{type:String,default:"step",validator:function(t){return!t||["step","tab"].includes(t)}},title:{type:String},value:{type:[String,Number]},defaultValue:{type:[String,Number]},visible:Boolean,onChange:{type:Function,default:function(){return{}}},onClose:{type:Function,default:function(){return{}}},onPick:{type:Function,default:function(){return{}}}}),y=a(11005),x=a(10263),I="".concat(m.Pl,"-cascader");function w(t,e){var a=(0,y.Yc)(null===e||void 0===e?void 0:e.label,"label"),i=(0,y.Yc)(null===e||void 0===e?void 0:e.value,"value"),n=(0,y.Yc)(null===e||void 0===e?void 0:e.disabled,"disabled");return t.map(function(t){return(0,u.A)((0,u.A)((0,u.A)({},a,t[a]),i,t[i]),n,t[n])})}var T,k={contentHeight:0,stepHeight:0,tabsHeight:0,subTitlesHeight:0,stepsInitHeight:0},V=(0,b.o1)({name:I,options:{styleIsolation:"shared"},controlledProps:[{key:"value",event:"change"}],externalClasses:["".concat(m.Pl,"-class")],components:{TIcon:v.A,TPopup:h.A,TTabs:p.A,TTabPanel:f.A,TRadioGroup:g.A},props:(0,d.A)({},_),emits:["update:visible"],data:function(){return{prefix:m.Pl,name:I,stepIndex:0,selectedIndexes:[],selectedValue:[],scrollTopList:[],steps:[],_optionsHeight:0,tools:x.A,dataVisible:this.visible,dataValue:(0,y.Yc)(this.value,this.defaultValue),items:[]}},computed:{stepArrowCustomStyle:function(){return x.A._style({color:"var(--td-cascader-step-arrow-color, var(--td-text-color-placeholder, var(--td-font-gray-3, rgba(0, 0, 0, .4))))",marginLeft:"auto"})}},watch:{visible:{handler:function(t){this.dataVisible=t},immediate:!0},dataVisible:{handler:function(t){var e=this;t?((0,y.dY)().then(function(){var t=e.$refs.tabs;null===t||void 0===t||t.setTrack(),null===t||void 0===t||t.getTabHeight().then(function(t){e.state.tabsHeight=t.height})}),(0,y.dY)().then(function(){e.initOptionsHeight(e.steps.length),e.updateScrollTop(),e.initWithValue()})):this.state=(0,d.A)({},k)},immediate:!0},value:{handler:function(t){this.dataValue=t},immediate:!0},dataValue:{handler:function(){this.initWithValue()},immediate:!0},options:{handler:function(){var t=this.genItems(),e=t.selectedValue,a=t.steps,i=t.items;this.steps=a,this.items=i,this.selectedValue=e,this.stepIndex=i.length-1,this.setTabParent()},immediate:!0,deep:!0},selectedIndexes:{handler:function(){var t=this.visible,e=this.theme,a=this.genItems(),i=a.selectedValue,n=a.steps,s=a.items;this.steps=n,this.setTabParent(),this.selectedValue=i,this.stepIndex=s.length-1,JSON.stringify(s)!==JSON.stringify(this.items)&&(this.items=s),t&&"step"===e&&this.updateOptionsHeight(n.length)},immediate:!0,deep:!0},stepIndex:{handler:function(){var t=this.dataVisible;t&&this.updateScrollTop()},immediate:!0,deep:!0}},created:function(){this.state=(0,d.A)({},k)},mounted:function(){},methods:{setTabParent:function(){},updateOptionsHeight:function(t){var e=this.state,a=e.contentHeight,i=e.stepsInitHeight,n=e.stepHeight,s=e.subTitlesHeight;this._optionsHeight=a-i-s-(t-1)*n},initOptionsHeight:function(t){var e=this;return(0,c.A)((0,r.A)().m(function a(){var i,n,s,l,c,d,u;return(0,r.A)().w(function(a){while(1)switch(a.n){case 0:return i=e.theme,n=e.subTitles,a.n=1,(0,y.l)(e,".".concat(I,"__content"));case 1:if(s=a.v,l=s.height,e.state.contentHeight=l,"step"!==i){a.n=2;break}return a.n=2,Promise.all([(0,y.l)(e,".".concat(I,"__steps")),(0,y.l)(e,".".concat(I,"__step"))]).then(function(a){var i=(0,o.A)(a,2),n=i[0],s=i[1];e.state.stepsInitHeight=n.height-(t-1)*s.height,e.state.stepHeight=s.height}).catch(function(){});case 2:if(!(n.length>0)){a.n=4;break}return a.n=3,(0,y.l)(e,".".concat(I,"__options-title"));case 3:c=a.v,d=c.height,e.state.subTitlesHeight=d;case 4:u=e.state.contentHeight-e.state.subTitlesHeight,e._optionsHeight="step"===i?u-e.state.stepsInitHeight-(t-1)*e.state.stepHeight:u-e.state.tabsHeight;case 5:return a.a(2)}},a)}))()},initWithValue:function(){if(null!=this.dataValue&&""!==this.dataValue){var t=this.getIndexesByValue(this.options,this.dataValue);t&&(this.selectedIndexes=t)}else this.selectedIndexes=[]},getIndexesByValue:function(t,e){for(var a=this.keys,i=0,n=t.length;i<n;i+=1){var s=t[i];if(s[(0,y.Yc)(null===a||void 0===a?void 0:a.value,"value")]===e)return[i];if(s[(0,y.Yc)(null===a||void 0===a?void 0:a.children,"children")]){var r=this.getIndexesByValue(s[(0,y.Yc)(null===a||void 0===a?void 0:a.children,"children")],e);if(r)return[i].concat((0,l.A)(r))}}},updateScrollTop:function(){var t=this,e=this.dataVisible,a=this.items,i=this.selectedIndexes,n=this.stepIndex;e&&(0,y.l)(this,".cascader-radio-group-0").then(function(e){var s,l=e.height/(null===(s=a[0])||void 0===s?void 0:s.length);t["scrollTopList[".concat(n,"]")]=l*i[n]}).catch(function(){})},hide:function(t){this.dataVisible=!1,this.$emit("close",{trigger:t}),this.$emit("update:visible",!1)},onVisibleChange:function(){this.hide("overlay")},onClose:function(){this.checkStrictly&&this.triggerChange(),this.hide("close-btn")},onStepClick:function(t){this.stepIndex=t},onTabChange:function(t){this.stepIndex=t},genItems:function(){var t=this.options,e=this.selectedIndexes,a=this.keys,i=this.placeholder,n=[],s=[],l=[w(t,a)];if(t.length>0)for(var r=t,o=0,c=e.length;o<c;o+=1){var d=e[o],u=r[d];r=u[(0,y.Yc)(null===a||void 0===a?void 0:a.children,"children")],n.push(u[(0,y.Yc)(null===a||void 0===a?void 0:a.value,"value")]),s.push(u[(0,y.Yc)(null===a||void 0===a?void 0:a.label,"label")]),u[(0,y.Yc)(null===a||void 0===a?void 0:a.children,"children")]&&l.push(w(u[(0,y.Yc)(null===a||void 0===a?void 0:a.children,"children")],a))}return s.length<l.length&&s.push(i),{selectedValue:n,steps:s,items:l}},handleSelect:function(t,e){var a,i=e.level,n=e.value,s=this.checkStrictly,l=this.selectedIndexes,r=this.items,o=this.keys,c=this.options,d=this.selectedValue,u=r[i].findIndex(function(t){return t[(0,y.Yc)(null===o||void 0===o?void 0:o.value,"value")]===n}),v=l.slice(0,i).reduce(function(t,e,a){return 0===a?t[e]:t[(0,y.Yc)(null===o||void 0===o?void 0:o.children,"children")][e]},c);if(v=0===i?v[u]:v[(0,y.Yc)(null===o||void 0===o?void 0:o.children,"children")][u],!v[(0,y.Yc)(null===o||void 0===o?void 0:o.disabled,"disabled")]){if(this.$emit("pick",{value:v[(0,y.Yc)(null===o||void 0===o?void 0:o.value,"value")],label:v[(0,y.Yc)(null===o||void 0===o?void 0:o.label,"label")],index:u,level:i}),l[i]=u,s&&d.includes(String(n)))return l.length=i,void(this.selectedIndexes=l);l.length=i+1;var h=this.genItems(),p=h.items;(null===(a=v)||void 0===a||null===(a=a[(0,y.Yc)(null===o||void 0===o?void 0:o.children,"children")])||void 0===a?void 0:a.length)>=0?(this.selectedIndexes=l,this["items[".concat(i+1,"]")]=p[i+1]):(this.selectedIndexes=l,setTimeout(this.triggerChange),this.hide("finish"))}},triggerChange:function(){var t=this.items,e=this.selectedValue,a=this.selectedIndexes;this._trigger("change",{value:(0,y.Yc)(e[e.length-1],""),selectedOptions:t.map(function(t,e){return t[a[e]]}).filter(Boolean)})}}}),H=V,A=(a(42765),a(1391)),Y=(0,A.A)(H,n,s,!1,null,"6218f976",null,!1,i,T),S=Y.exports},30640:function(t,e,a){"use strict";a.r(e);var i=a(22093),n=a.n(i),s=a(12670),l=a.n(s),r=l()(n());r.push([t.id,'.t-cascader[data-v-6218f976]{display:flex;flex-direction:column;background-color:var(--td-cascader-bg-color,var(--td-bg-color-container,var(--td-font-white-1,#fff)));color:var(--td-cascader-title-color,var(--td-text-color-primary,var(--td-font-gray-1,rgba(0,0,0,.9))));border-radius:var(--td-radius-extraLarge,12px) var(--td-radius-extraLarge,12px) 0 0;--td-radio-icon-checked-color:var(--td-cascader-active-color,var(--td-brand-color,var(--td-primary-color-7,#0052d9)));--td-tab-item-active-color:var(--td-cascader-active-color,var(--td-brand-color,var(--td-primary-color-7,#0052d9)));--td-tab-track-color:var(--td-cascader-active-color,var(--td-brand-color,var(--td-primary-color-7,#0052d9)))}.t-cascader__close-btn[data-v-6218f976]{right:var(--td-spacer-2,16px);top:var(--td-spacer-2,16px);position:absolute}.t-cascader__title[data-v-6218f976]{position:relative;font:var(--td-cascader-title-font,var(--td-font-title-large,600 18px/26px var(--td-font-family,PingFang SC,Microsoft YaHei,Arial Regular)));text-align:center;padding:var(--td-cascader-title-padding,var(--td-spacer-2,16px))}.t-cascader__content[data-v-6218f976]{width:100%;height:var(--td-cascader-content-height,78vh);display:flex;flex-direction:column}.t-cascader__options[data-v-6218f976]{width:100vw}.t-cascader__options-title[data-v-6218f976]{color:var(--td-cascader-options-title-color,var(--td-text-color-placeholder,var(--td-font-gray-3,rgba(0,0,0,.4))));font:var(--td-font-body-medium,14px/22px var(--td-font-family,PingFang SC,Microsoft YaHei,Arial Regular));padding-top:%?40?%;padding-left:var(--td-spacer-2,16px);box-sizing:border-box}.t-cascader__options-container[data-v-6218f976]{flex:1;display:flex;transition:all ease .3s}.t-cascader__step[data-v-6218f976]{display:flex;align-items:center;height:var(--td-cascader-step-height,44px)}.t-cascader__steps[data-v-6218f976]{padding:0 %?32?% %?10?%;position:relative}.t-cascader__steps[data-v-6218f976]::after{content:"";display:block;position:absolute;top:unset;bottom:0;left:unset;right:unset;background-color:var(--td-cascader-border-color,var(--td-component-stroke,var(--td-gray-color-3,#e7e7e7)))}.t-cascader__steps[data-v-6218f976]::after{height:1px;left:0;right:0;-webkit-transform:scaleY(.5);transform:scaleY(.5)}.t-cascader__step-dot[data-v-6218f976]{position:relative;width:var(--td-cascader-step-dot-size,8px);height:var(--td-cascader-step-dot-size,8px);border-radius:50%;border:%?2?% solid var(--td-cascader-active-color,var(--td-brand-color,var(--td-primary-color-7,#0052d9)));box-sizing:border-box}.t-cascader__step-dot[data-v-6218f976]:not(.t-cascader__step-dot--last)::after{content:"";display:block;position:absolute;left:50%;top:calc(var(--td-cascader-step-dot-size, %?16?%) + %?14?%);height:%?36?%;width:%?2?%;background:var(--td-cascader-active-color,var(--td-brand-color,var(--td-primary-color-7,#0052d9)));-webkit-transform:translateX(-50%);transform:translateX(-50%)}.t-cascader__step-dot--active[data-v-6218f976]{background:var(--td-cascader-active-color,var(--td-brand-color,var(--td-primary-color-7,#0052d9)));border-color:var(--td-cascader-active-color,var(--td-brand-color,var(--td-primary-color-7,#0052d9)))}.t-cascader__step-label[data-v-6218f976]{padding-left:var(--td-spacer-2,16px);font:var(--td-font-body-medium,14px/22px var(--td-font-family,PingFang SC,Microsoft YaHei,Arial Regular))}.t-cascader__step-label--active[data-v-6218f976]{color:var(--td-cascader-active-color,var(--td-brand-color,var(--td-primary-color-7,#0052d9)));font-weight:600}.t-cascader__step-arrow[data-v-6218f976]{color:var(--td-cascader-step-arrow-color,var(--td-text-color-placeholder,var(--td-font-gray-3,rgba(0,0,0,.4))));margin-left:auto}',""]),e["default"]=r},42765:function(t,e,a){var i=a(30640);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var n=a(31997).A;n("5e10977a",i,!0,{sourceMap:!1,shadowMode:!1})}}]);