(self["webpackChunktdesign_uniapp_vue2_cli"]=self["webpackChunktdesign_uniapp_vue2_cli"]||[]).push([[4609],{2083:function(t,e,o){var n=o(26728);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var a=o(31997).A;a("09958942",n,!0,{sourceMap:!1,shadowMode:!1})},6282:function(t,e,o){"use strict";o.r(e);var n=o(22093),a=o.n(n),i=o(12670),r=o.n(i),s=r()(a());s.push([t.id,".t-pull-down-refresh[data-v-7fe1ffe9]{overflow:hidden;height:100%}.t-pull-down-refresh__track[data-v-7fe1ffe9]{position:relative}.t-pull-down-refresh__track--loosing[data-v-7fe1ffe9]{transition:-webkit-transform ease .24s;transition:transform ease .24s;transition:transform ease .24s,-webkit-transform ease .24s}.t-pull-down-refresh__tips[data-v-7fe1ffe9]{position:absolute;color:var(--td-pull-down-refresh-color,var(--td-text-color-placeholder,var(--td-font-gray-3,rgba(0,0,0,.4))));font-size:%?24?%;top:0;width:100%;-webkit-transform:translateY(-100%);transform:translateY(-100%);display:flex;justify-content:center;align-items:center;flex-direction:column;overflow:hidden}.t-pull-down-refresh__tips--loosing[data-v-7fe1ffe9]{transition:height ease .24s}.t-pull-down-refresh__text[data-v-7fe1ffe9]{margin:%?16?% 0 0}",""]),e["default"]=s},17482:function(t,e,o){var n=o(66331);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var a=o(31997).A;a("872e3bb4",n,!0,{sourceMap:!1,shadowMode:!1})},26728:function(t,e,o){"use strict";o.r(e);var n=o(22093),a=o.n(n),i=o(12670),r=o.n(i),s=r()(a());s.push([t.id,".demo[data-v-78ca3d1f]{padding-bottom:%?56?%;overflow:hidden}.demo-title[data-v-78ca3d1f]{font-size:%?48?%;font-weight:700;line-height:%?64?%;margin:%?48?% %?32?% 0;color:var(--td-text-color-primary)}.demo-desc[data-v-78ca3d1f]{font-size:%?28?%;color:var(--td-text-color-secondary);margin:%?16?% %?32?% 0;line-height:%?44?%}.pulldown-refresh__content[data-v-78ca3d1f]{margin:%?64?% %?32?% 0;position:relative}.row[data-v-78ca3d1f]{display:flex;justify-content:space-between;margin-top:%?32?%}.text[data-v-78ca3d1f]{position:absolute;top:%?152?%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);text-align:center;font-size:%?32?%;color:var(--td-text-color-disabled);width:%?686?%}",""]),e["default"]=s},40028:function(t,e,o){"use strict";o.d(e,{A:function(){return x}});var n,a={tLoading:o(66552).A},i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-scroll-view",{class:t.classPrefix+" "+t.tClass,style:t.tools._style([t.customStyle,"max-height: calc(100vh - "+t.distanceTop+"px)"]),attrs:{type:"list","scroll-top":t.scrollTop,"scroll-y":!0,"enable-back-to-top":t.enableBackToTop,"enable-passive":t.enablePassive,"lower-threshold":t.lowerThreshold,"upper-threshold":t.upperThreshold,"scroll-into-view":t.scrollIntoView,"show-scrollbar":t.showScrollbar,enhanced:!0,"scroll-with-animation":!0,bounces:!1,throttle:!1},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.onTouchStart.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.onTouchMove.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.onTouchEnd.apply(void 0,arguments)},scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.onScroll.apply(void 0,arguments)},scrolltoupper:function(e){arguments[0]=e=t.$handleEvent(e),t.onScrollToTop.apply(void 0,arguments)},scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.onScrollToBottom.apply(void 0,arguments)}}},[t._t("header"),o("v-uni-view",{class:t.classPrefix+"__track "+t.classPrefix+"__track--"+(t.loosing?"loosing":""),style:t.barHeight>0?"transform: translate3d(0, "+t.barHeight+"px, 0);":""},[o("v-uni-view",{class:t.classPrefix+"__tips "+t.classPrefix+"__tips--"+(t.loosing?"loosing":""),style:"height: "+t.tipsHeight+"px",attrs:{"aria-live":"polite"}},[t.refreshStatus===t.REFRESH_STATUS_MAP.LOADING?o("t-loading",{attrs:{delay:t.loadingProps.delay||0,duration:t.loadingProps.duration||800,indicator:t.loadingProps.indicator||!0,layout:t.loadingProps.layout||"horizontal",loading:t.loadingProps.loading||!0,pause:t.loadingProps.pause||!1,progress:t.loadingProps.progress||0,reverse:t.loadingProps.reverse||!1,size:t.loadingProps.size||"50rpx",text:t.loadingProps.text||t.dataLoadingTexts[t.refreshStatus],theme:t.loadingProps.theme||"circular","t-class-indicator":t.tClassIndicator,"t-class":t.tClassLoading}}):t.refreshStatus>t.REFRESH_STATUS_MAP.INITIAL?o("v-uni-view",{class:t.classPrefix+"__text "+t.tClassText},[t._v(" "+t._s(t.dataLoadingTexts[t.refreshStatus])+" ")]):t._e()],1),t._t("default")],2)],2)},r=[],s=o(70012),l=(o(17932),o(19329),o(2657),o(77332),o(25241),o(66552)),c=o(88070),u=o(46056),h=(o(27439),{disabled:Boolean,enableBackToTop:{type:Boolean,default:!0},enablePassive:Boolean,loadingBarHeight:{type:[String,Number],default:50},loadingProps:{type:Object,default:function(){return{}}},loadingTexts:{type:Array,default:function(){return[]}},lowerThreshold:{type:[String,Number],default:50},maxBarHeight:{type:[String,Number],default:80},refreshTimeout:{type:Number,default:3e3},scrollIntoView:{type:String,default:""},showScrollbar:{type:Boolean,default:!0},successDuration:{type:[String,Number],default:500},upperThreshold:{type:[String,Number],default:50},usingCustomNavbar:Boolean,value:{type:Boolean,default:void 0},defaultValue:Boolean,onChange:{type:Function,default:function(){return{}}},onDragend:{type:Function,default:function(){return{}}},onDragging:{type:Function,default:function(){return{}}},onDragstart:{type:Function,default:function(){return{}}},onRefresh:{type:Function,default:function(){return{}}},onScrolltolower:{type:Function,default:function(){return{}}},onTimeout:{type:Function,default:function(){return{}}}}),d=o(11005),f=o(10263),g=o(10264),p=o(41663),v="".concat(u.Pl,"-pull-down-refresh"),m=["下拉刷新","松手刷新","正在刷新","刷新完成"],T={INITIAL:-1,PULLING:0,LOSING:1,LOADING:2,SUCCESS:3},w=(0,c.o1)({name:v,options:{styleIsolation:"shared"},externalClasses:["".concat(u.Pl,"-class"),"".concat(u.Pl,"-class-loading"),"".concat(u.Pl,"-class-text"),"".concat(u.Pl,"-class-indicator")],mixins:[(0,p.GT)(p._S.BackTop)],components:{TLoading:l.A},props:(0,s.A)({},h),emits:["scrolltolower","scroll","change","refresh","dragstart","dragging","dragend","timeout"],data:function(){return{prefix:u.Pl,classPrefix:v,distanceTop:0,barHeight:0,tipsHeight:0,refreshStatus:T.INITIAL,loosing:!1,enableToRefresh:!0,scrollTop:0,_maxBarHeight:0,_loadingBarHeight:0,pixelRatio:1,startPoint:null,isPulling:!1,maxRefreshAnimateTimeFlag:0,closingAnimateTimeFlag:0,refreshStatusTimer:null,tools:f.A,REFRESH_STATUS_MAP:T}},computed:{touchEnable:function(){return this.refreshStatus!==T.LOADING&&this.refreshStatus!==T.SUCCESS&&!this.disabled}},watch:{value:function(t){var e=this;t?this.doRefresh():(clearTimeout(this.maxRefreshAnimateTimeFlag),this.refreshStatus>T.PULLING&&(this.refreshStatus=T.SUCCESS),clearTimeout(this.successTimer),this.successTimer=setTimeout(function(){e.barHeight=0,e.refreshStatus=T.INITIAL},(0,d.Gz)(this.successDuration)))},barHeight:function(t){var e=this;this.resetTimer(),0===t&&this.refreshStatus!==T.INITIAL&&(this.refreshStatusTimer=setTimeout(function(){e.refreshStatus=T.INITIAL},240)),this.tipsHeight=Math.min(t,this._loadingBarHeight)},maxBarHeight:function(t){this._maxBarHeight=(0,d.Gz)(t)},loadingBarHeight:function(t){this._loadingBarHeight=(0,d.Gz)(t)}},mounted:function(){var t=d.c1.screenWidth,e=this.loadingTexts,o=this.maxBarHeight,n=this.loadingBarHeight,a=Array.isArray(e)&&e.length>=4;this._maxBarHeight=(0,d.Gz)(o),this._loadingBarHeight=(0,d.Gz)(n),this.dataLoadingTexts=a?e:m,this.pixelRatio=750/t,this.updateDistanceTop()},beforeUnMount:function(){clearTimeout(this.maxRefreshAnimateTimeFlag),clearTimeout(this.closingAnimateTimeFlag),this.resetTimer()},methods:{updateDistanceTop:function(){var t=this,e=function(e){t.distanceTop=e};(0,d.l)(this,".".concat(v)).then(function(o){o.top?e(o.top):(0,g.H$)(t,".".concat(v)).then(function(t){t.intersectionRatio>0&&e(t.boundingClientRect.top)})})},resetTimer:function(){this.refreshStatusTimer&&(clearTimeout(this.refreshStatusTimer),this.refreshStatusTimer=null)},onScrollToBottom:function(){this.$emit("scrolltolower")},onScrollToTop:function(){this.enableToRefresh=!0},onScroll:function(t){var e=t.detail.scrollTop;this.enableToRefresh=0===e,this.$emit("scroll",{scrollTop:e})},onTouchStart:function(t){if(!this.isPulling&&this.enableToRefresh&&this.touchEnable){var e=t.touches;if(this.$emit("dragstart",t),1===e.length){var o=e[0],n=o.pageX,a=o.pageY;this.loosing=!1,this.startPoint={pageX:n,pageY:a},this.isPulling=!0}}},onTouchMove:function(t){if(this.startPoint&&this.touchEnable){var e=t.touches;if(1===e.length){var o=e[0].pageY,n=o-this.startPoint.pageY;n>0&&this.setRefreshBarHeight(n),this.$emit("dragging",t)}}},onTouchEnd:function(t){if(this.startPoint&&!this.disabled){var e=t.changedTouches;if(1===e.length){var o=e[0].pageY,n=o-this.startPoint.pageY;this.startPoint=null,this.isPulling=!1,this.loosing=!0,n>this._loadingBarHeight?(this._trigger("change",{value:!0}),this.$emit("refresh")):this.barHeight=0,this.$emit("dragend",t)}}},doRefresh:function(){var t=this;this.disabled||(this.barHeight=this._loadingBarHeight,this.refreshStatus=T.LOADING,this.loosing=!0,this.maxRefreshAnimateTimeFlag=setTimeout(function(){t.maxRefreshAnimateTimeFlag=null,t.refreshStatus===T.LOADING&&(t.$emit("timeout"),t._trigger("change",{value:!1}))},this.refreshTimeout))},setRefreshBarHeight:function(t){var e=this,o=Math.min(t,this._maxBarHeight),n={barHeight:o};return o>=this._loadingBarHeight?n.refreshStatus=T.LOSING:n.refreshStatus=T.PULLING,new Promise(function(t){Object.keys(n).forEach(function(t){e[t]=n[t]}),setTimeout(function(){t(o)},20)})},setScrollTop:function(t){this.scrollTop=t},scrollToTop:function(){var t=!1;this.scrollTop=0===this.scrollTop?.01:0,t=!0,t||this.setScrollTop(0)}}}),b=w,S=(o(43751),o(1391)),_=(0,S.A)(b,i,r,!1,null,"7fe1ffe9",null,!1,a,n),x=_.exports},43751:function(t,e,o){var n=o(6282);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var a=o(31997).A;a("dab3b66a",n,!0,{sourceMap:!1,shadowMode:!1})},55016:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return _}});var n,a,i={tDemoNavbar:o(98383).A},r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",[o("t-demo-navbar",{attrs:{"custom-class":"demo-navbar",title:"PullDownRefresh"}}),o("base-demo")],1)},s=[],l={tPullDownRefresh:o(40028).A,tDemoHeader:o(5635).A,tSkeleton:o(27292).A,tBackTop:o(31341).A},c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",[o("t-pull-down-refresh",{attrs:{value:t.enable,"loading-texts":["下拉刷新","松手刷新","正在刷新","刷新完成"],"using-custom-navbar":!t.isMPAlipay,"success-duration":600},on:{refresh:function(e){arguments[0]=e=t.$handleEvent(e),t.onRefresh.apply(void 0,arguments)},scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.onScroll.apply(void 0,arguments)},dragstart:function(e){arguments[0]=e=t.$handleEvent(e),t.onDragstart.apply(void 0,arguments)},dragging:function(e){arguments[0]=e=t.$handleEvent(e),t.onDragging.apply(void 0,arguments)},dragend:function(e){arguments[0]=e=t.$handleEvent(e),t.onDragend.apply(void 0,arguments)},scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.onScrolltolower.apply(void 0,arguments)},timeout:function(e){arguments[0]=e=t.$handleEvent(e),t.onTimeout.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"demo"},[o("t-demo-header",{attrs:{title:"PullDownRefresh 下拉刷新",desc:"用于快速刷新页面信息，刷新可以是整页刷新也可以是页面的局部刷新。",notice:"渲染框架支持情况：WebView"}}),o("v-uni-view",{staticClass:"pulldown-refresh__content"},[o("t-skeleton",{attrs:{"row-col":t.rowCol1,loading:!0}}),o("v-uni-view",{staticClass:"row"},[o("t-skeleton",{attrs:{"row-col":t.rowCol2,loading:!0}}),o("t-skeleton",{attrs:{"row-col":t.rowCol2,loading:!0}})],1),o("v-uni-view",{staticClass:"row"},[o("t-skeleton",{attrs:{"row-col":t.rowCol2,loading:!0}}),o("t-skeleton",{attrs:{"row-col":t.rowCol2,loading:!0}})],1),o("v-uni-view",{staticClass:"row"},[o("t-skeleton",{attrs:{"row-col":t.rowCol2,loading:!0}}),o("t-skeleton",{attrs:{"row-col":t.rowCol2,loading:!0}})],1),o("v-uni-view",{staticClass:"text"},[t._v(" 拖拽该区域演示 顶部下拉刷新 ")])],1),o("t-back-top",{attrs:{text:"顶部","scroll-top":t.scrollTop,"visibility-height":100}})],1)],1)],1)},u=[],h=o(40028),d=o(27292),f=o(31341),g={components:{TPullDownRefresh:h.A,TSkeleton:d.A,TBackTop:f.A},data:function(){return{enable:!1,rowCol1:[{width:"100%",height:"342rpx",borderRadius:"24rpx"}],rowCol2:[[{width:"327rpx"}],[{width:"200rpx"}],[{size:"327rpx",borderRadius:"24rpx"}]],scrollTop:0}},mounted:function(){var t=this;this.$nextTick(function(){return t.ready()})},created:function(){},methods:{ready:function(){var t=this;this.enable=!0,setTimeout(function(){t.enable=!1},1e3)},onRefresh:function(){var t=this;this.enable=!0,setTimeout(function(){t.enable=!1},1500)},onScroll:function(t){var e=t.scrollTop;this.scrollTop=e},onDragstart:function(t){console.log("[onDragstart]",t)},onDragging:function(t){console.log("[onDragging]",t)},onDragend:function(t){console.log("[onDragend]",t)},onScrolltolower:function(t){console.log("[onScrolltolower]",t)},onTimeout:function(t){console.log("[onTimeout]",t)}}},p=g,v=(o(2083),o(1391)),m=(0,v.A)(p,c,u,!1,null,"78ca3d1f",null,!1,l,n),T=m.exports,w={components:{BaseDemo:T},data:function(){return{}},methods:{}},b=w,S=(o(17482),(0,v.A)(b,r,s,!1,null,"afe09926",null,!1,i,a)),_=S.exports},66331:function(t,e,o){"use strict";o.r(e);var n=o(22093),a=o.n(n),i=o(12670),r=o.n(i),s=r()(a());s.push([t.id,"uni-page-body[data-v-afe09926]{background-color:var(--td-bg-color-container)}body.?%PAGE?%[data-v-afe09926]{background-color:var(--td-bg-color-container)}",""]),e["default"]=s}}]);