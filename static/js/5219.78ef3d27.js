(self["webpackChunktdesign_uniapp_vue2_cli"]=self["webpackChunktdesign_uniapp_vue2_cli"]||[]).push([[5219],{36308:function(t,e,a){"use strict";a.r(e);var l=a(22093),i=a.n(l),s=a(12670),o=a.n(s),r=o()(i());r.push([t.id,".t-rate[data-v-1c3820db]{position:relative;display:flex;align-items:center;justify-content:flex-start}.t-rate__wrapper[data-v-1c3820db]{line-height:1em;display:inline-flex}[data-v-1c3820db] .t-rate__icon{display:block;line-height:1em;width:1em;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}[data-v-1c3820db] .t-rate__icon--current{-webkit-transform:scale(var(--td-rate-icon-scale,1.33));transform:scale(var(--td-rate-icon-scale,1.33))}[data-v-1c3820db] .t-rate__icon--selected{color:var(--td-rate-selected-color,var(--td-warning-color,var(--td-warning-color-5,#e37318)))}[data-v-1c3820db] .t-rate__icon--selected-half{color:transparent;background:linear-gradient(to right,var(--td-rate-selected-color,var(--td-warning-color,var(--td-warning-color-5,#e37318))) 0,var(--td-rate-selected-color,var(--td-warning-color,var(--td-warning-color-5,#e37318))) 50%,var(--td-rate-unselected-color,var(--td-component-border,var(--td-gray-color-4,#dcdcdc))) 51%,var(--td-rate-unselected-color,var(--td-component-border,var(--td-gray-color-4,#dcdcdc))) 100%);-webkit-background-clip:text;background-clip:text}[data-v-1c3820db] .t-rate__icon--unselected{color:var(--td-rate-unselected-color,var(--td-component-border,var(--td-gray-color-4,#dcdcdc)))}.t-rate__text[data-v-1c3820db]{font-size:var(--td-rate-text-font-size,var(--td-font-size-m,16px));color:var(--td-rate-text-color,var(--td-text-color-disabled,var(--td-font-gray-4,rgba(0,0,0,.26))));margin-left:%?32?%;vertical-align:middle}.t-rate__text--active[data-v-1c3820db]{color:var(--td-rate-text-active-color,var(--td-text-color-primary,var(--td-font-gray-1,rgba(0,0,0,.9))));font-weight:var(--td-rate-text-active-font-weight,600)}.t-rate__text--sr-only[data-v-1c3820db]{position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;-webkit-clip-path:inset(50%);clip-path:inset(50%);border:0}.t-rate__tips[data-v-1c3820db]{position:absolute;display:flex;align-items:center;bottom:calc(100% + %?16?%);padding:%?8?%;border-radius:%?12?%;box-shadow:var(--td-shadow-1,0 1px 10px rgba(0,0,0,.05),0 4px 5px rgba(0,0,0,.08),0 2px 4px -1px rgba(0,0,0,.12));background-color:var(--td-bg-color-container,var(--td-font-white-1,#fff));-webkit-transform:translateX(-50%);transform:translateX(-50%)}.t-rate__tips--bottom[data-v-1c3820db]{top:calc(100% + %?16?%);bottom:auto}.t-rate__tips-item[data-v-1c3820db]{display:flex;flex-direction:column;align-items:center;width:%?64?%;border-radius:%?6?%}.t-rate__tips-item--active[data-v-1c3820db]{background-color:var(--td-bg-color-component,var(--td-gray-color-3,#e7e7e7))}.t-rate__tips-text[data-v-1c3820db]{text-align:center;font:var(--td-font-body-medium,14px/22px var(--td-font-family,PingFang SC,Microsoft YaHei,Arial Regular))}",""]),e["default"]=r},50125:function(t,e,a){var l=a(36308);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[t.id,l,""]]),l.locals&&(t.exports=l.locals);var i=a(31997).A;i("09ef9fba",l,!0,{sourceMap:!1,shadowMode:!1})},65219:function(t,e,a){"use strict";var l;a.d(e,{A:function(){return b}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{class:t.classPrefix,style:t.tools._style([t.customStyle])},[a("v-uni-view",{class:t.classPrefix+"__wrapper "+t.tClass,style:"font-size:"+t.utils.regSize(t.size),attrs:{"aria-role":"slider","aria-valuemax":t.count,"aria-valuemin":0,"aria-valuenow":t.dataValue,"aria-valuetext":t.utils.getText(t.texts,t.dataValue,t.defaultTexts)},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.parseEventDynamicCode(e,t.disabled?"":"onTouchStart")},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.parseEventDynamicCode(e,t.disabled?"":"onTouchMove")},click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTap.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.parseEventDynamicCode(e,t.disabled?"":"onTouchEnd")},touchcancel:function(e){arguments[0]=e=t.$handleEvent(e),t.parseEventDynamicCode(e,t.disabled?"":"onTouchEnd")}}},t._l(t.count,function(e,l){return a("t-icon",{key:l,attrs:{"t-class":t.classPrefix+"__icon "+t.utils.getIconClass(t.classPrefix+"__icon",t.defaultValue,t.dataValue,l,t.allowHalf,t.disabled,t.scaleIndex)+" "+t.tClassIcon,"custom-style":"margin-right: "+(t.count-l>1?t.tools.addUnit(t.gap):0)+"; "+t.utils.getColor(t.color),name:t.utils.getIconName(t.defaultValue,t.dataValue,l,t.icon),size:t.size,prefix:t.iconPrefix}})}),1),t.showText?a("v-uni-text",{class:t.tools.cls(t.classPrefix+"__text",[["active",t.dataValue>0]])+" "+t.tClassText,attrs:{"aria-hidden":!0}},[t._v(" "+t._s(t.utils.getText(t.texts,t.dataValue,t.defaultTexts))+" ")]):t._e(),t.isVisibleToScreenReader?a("v-uni-text",{class:t.tools.cls(t.classPrefix+"__text",[["active",t.dataValue>0],["sr-only",t.isVisibleToScreenReader]])+" "+t.tClassText,attrs:{"aria-role":"alert","aria-live":"assertive"}},[t._v(" "+t._s(t.dataValue+"星")+" "+t._s(t.utils.getText(t.texts,t.dataValue,t.defaultTexts))+" ")]):t._e(),t.tipsVisible&&t.placement?a("v-uni-view",{class:t.tools.cls(t.classPrefix+"__tips",[t.placement]),style:"left: "+t.tipsLeft+"px",attrs:{"aria-hidden":!0}},["tap"==t.actionType?[t.allowHalf?a("v-uni-view",{class:t.tools.cls(t.classPrefix+"__tips-item",[["active",t.utils.ceil(t.dataValue)-.5==t.dataValue]]),attrs:{"data-value":t.utils.ceil(t.dataValue)-.5},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSelect.apply(void 0,arguments)}}},[a("t-icon",{attrs:{"t-class":t.classPrefix+"__icon "+t.classPrefix+"__icon--selected-half",name:t.utils.getIconName(t.defaultValue,t.dataValue,0,t.icon),size:t.size,"custom-style":t.utils.getColor(t.color)}}),a("v-uni-view",{class:t.classPrefix+"__tips-text"},[t._v(" "+t._s(t.utils.ceil(t.dataValue)-.5)+" ")])],1):t._e(),a("v-uni-view",{class:t.tools.cls(t.classPrefix+"__tips-item",[["active",t.utils.ceil(t.dataValue)==t.dataValue]]),attrs:{"data-value":t.utils.ceil(t.dataValue)},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSelect.apply(void 0,arguments)}}},[a("t-icon",{attrs:{"t-class":t.tools.cls(t.classPrefix+"__icon",["selected"]),name:t.utils.getIconName(t.defaultValue,0,0,t.icon),size:t.size,"custom-style":t.utils.getColor(t.color)}}),a("v-uni-view",{class:t.classPrefix+"__tips-text"},[t._v(" "+t._s(t.utils.ceil(t.dataValue))+" ")])],1)]:a("v-uni-view",{class:t.tools.cls(t.classPrefix+"__tips-item",[["active",t.utils.ceil(t.dataValue)==t.dataValue&&"tap"==t.actionType]]),attrs:{"data-value":t.utils.ceil(t.dataValue)},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSelect.apply(void 0,arguments)}}},[a("t-icon",{attrs:{"t-class":t.tools.cls(t.classPrefix+"__icon",[["selected",t.utils.ceil(t.dataValue)==t.dataValue],["selected-half",t.utils.ceil(t.dataValue)!=t.dataValue]]),name:t.utils.getIconName(t.defaultValue,0,0,t.icon),size:t.size,"custom-style":t.utils.getColor(t.color)}}),a("v-uni-view",{class:t.classPrefix+"__tips-text"},[t._v(" "+t._s(t.dataValue)+" ")])],1)],2):t._e()],1)},s=[],o=a(4993),r=a(33913),n=a(38207),c=(a(26128),a(27439),{allowHalf:Boolean,color:{type:[String,Array],default:"#ED7B2F"},count:{type:Number,default:5},disabled:{type:Boolean,default:void 0},gap:{type:[String,Number],default:8},icon:{type:[String,Array]},iconPrefix:{type:String,default:void 0},placement:{type:String,default:"top",validator:function(t){return!t||["top","bottom",""].includes(t)}},showText:Boolean,size:{type:[String,Number],default:"24px"},texts:{type:Array,default:function(){return[]}},value:{type:Number,default:0},defaultValue:{type:Number,default:0},variant:{type:String,default:"outline",validator:function(t){return!t||["outline","filled"].includes(t)}},onChange:{type:Function,default:function(){return{}}}}),d=a(56792),u=a(78282),p={getText(t,e,a){t.length||(t=a);const l=Math.floor(e-1);return t[l]||"未评分"},getIconName(t,e,a,l){const i=e>=0?e:t;let s=["star-filled","star-filled"];return l&&(s=Array.isArray(l)?l:[l,l]),s[i>=a+1?0:1]},getIconClass(t,e,a,l,i,s,o){const r=a>=0?a:e,n=[];return r>=l+1?(n.push(`${t}--selected`),s&&n.push(`${t}--disabled`),o===l+1&&n.push(`${t}--current`)):i&&r-l>0?(n.push(`${t}--selected-half`),o===l+1&&n.push(`${t}--current`),s&&n.push(`${t}--disabled-half`)):n.push(`${t}--unselected`),n.join(" ")},ceil(t){return Math.ceil(t)},getColor(t){return Array.isArray(t)&&2===t.length?`;--td-rate-selected-color: ${t[0]}; --td-rate-unselected-color: ${t[1]}`:"string"===typeof t?`;--td-rate-selected-color: ${t}`:""},regSize(t){const e=`${t}`;return e.indexOf("px")?e:`${e}px`}},v=a(71555);const f=`${n.Pl}-rate`;var h,x=(0,r.o1)({name:f,options:{styleIsolation:"shared"},controlledProps:[{key:"value",event:"change"}],externalClasses:[`${n.Pl}-class`,`${n.Pl}-class-icon`,`${n.Pl}-class-text`],components:{TIcon:o.A},props:{...c},data(){return{prefix:n.Pl,classPrefix:f,defaultTexts:["极差","失望","一般","满意","惊喜"],tipsVisible:!1,tipsLeft:0,actionType:"",scaleIndex:-1,isVisibleToScreenReader:!1,tools:u.A,utils:p,dataValue:(0,d.Yc)(this.value,this.defaultValue)}},watch:{value:{handler(t){this.dataValue=t},immediate:!0}},mounted(){},methods:{parseEventDynamicCode:v.s,onTouch(t,e){const{count:a,allowHalf:l,gap:i,dataValue:s,size:o}=this;let r=t.changedTouches?.[0];const n=(0,d.Gz)(i);(0,d.l)(this,`.${f}__wrapper`).then(t=>{const{width:c,left:u}=t,p=(c-(a-1)*n)/a,v=r.pageX-u,f=(v+n)/(p+n),h=f%1,x=f-h;let g=h<=.5&&l?x+.5:x+1;g>a?g=a:g<0&&(g=0);const _=Math.ceil(g-1)*((0,d.Gz)(i)+(0,d.Gz)(o))+.5*(0,d.Gz)(o);this.tipsVisible=!0,this.actionType=e,this.scaleIndex=Math.ceil(g),this.tipsLeft=Math.max(_,0),g!==s&&this.innerTrigger(g),this.touchEnd&&this.hideTips()})},innerTrigger(t){this._trigger("change",{value:t}),this._selfControlled&&(this.currentValue=t)},onTap(t){const{disabled:e}=this;e||this.onTouch(t,"tap")},onTouchStart(){this.touchEnd=!1},onTouchMove(t){this.onTouch(t,"move"),this.showAlertText()},onTouchEnd(){this.touchEnd=!0,this.hideTips()},hideTips(){"move"===this.actionType&&(this.tipsVisible=!1,this.scaleIndex=-1)},onSelect(t){const{value:e}=t.currentTarget.dataset,{actionType:a}=this;"move"!==a&&(this.innerTrigger(e),setTimeout(()=>{this.tipsVisible=!1,this.scaleIndex=-1},300))},showAlertText(){!0!==this.isVisibleToScreenReader&&(this.isVisibleToScreenReader=!0,setTimeout(()=>{this.isVisibleToScreenReader=!1},2e3))}}}),g=x,_=(a(50125),a(1391)),m=(0,_.A)(g,i,s,!1,null,"1c3820db",null,!1,l,h),b=m.exports}}]);