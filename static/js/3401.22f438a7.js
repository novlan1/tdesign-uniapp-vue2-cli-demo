(self["webpackChunktdesign_uniapp_vue2_cli"]=self["webpackChunktdesign_uniapp_vue2_cli"]||[]).push([[3401],{33148:function(t,e,a){var i=a(75321);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var l=a(31997).A;l("7bada180",i,!0,{sourceMap:!1,shadowMode:!1})},75321:function(t,e,a){"use strict";a.r(e);var i=a(22093),l=a.n(i),o=a(12670),n=a.n(o),s=n()(l());s.push([t.id,".t-rate[data-v-000b8549]{position:relative;display:flex;align-items:center;justify-content:flex-start}.t-rate__wrapper[data-v-000b8549]{line-height:1em;display:inline-flex}[data-v-000b8549] .t-rate__icon{display:block;line-height:1em;width:1em;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}[data-v-000b8549] .t-rate__icon--current{-webkit-transform:scale(var(--td-rate-icon-scale,1.33));transform:scale(var(--td-rate-icon-scale,1.33))}[data-v-000b8549] .t-rate__icon--selected{color:var(--td-rate-selected-color,var(--td-warning-color,var(--td-warning-color-5,#e37318)))}[data-v-000b8549] .t-rate__icon--selected-half{color:transparent;background:linear-gradient(to right,var(--td-rate-selected-color,var(--td-warning-color,var(--td-warning-color-5,#e37318))) 0,var(--td-rate-selected-color,var(--td-warning-color,var(--td-warning-color-5,#e37318))) 50%,var(--td-rate-unselected-color,var(--td-component-border,var(--td-gray-color-4,#dcdcdc))) 51%,var(--td-rate-unselected-color,var(--td-component-border,var(--td-gray-color-4,#dcdcdc))) 100%);-webkit-background-clip:text;background-clip:text}[data-v-000b8549] .t-rate__icon--unselected{color:var(--td-rate-unselected-color,var(--td-component-border,var(--td-gray-color-4,#dcdcdc)))}.t-rate__text[data-v-000b8549]{font-size:var(--td-rate-text-font-size,var(--td-font-size-m,16px));color:var(--td-rate-text-color,var(--td-text-color-disabled,var(--td-font-gray-4,rgba(0,0,0,.26))));margin-left:%?32?%;vertical-align:middle}.t-rate__text--active[data-v-000b8549]{color:var(--td-rate-text-active-color,var(--td-text-color-primary,var(--td-font-gray-1,rgba(0,0,0,.9))));font-weight:var(--td-rate-text-active-font-weight,600)}.t-rate__text--sr-only[data-v-000b8549]{position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;-webkit-clip-path:inset(50%);clip-path:inset(50%);border:0}.t-rate__tips[data-v-000b8549]{position:absolute;display:flex;align-items:center;bottom:calc(100% + %?16?%);padding:%?8?%;border-radius:%?12?%;box-shadow:var(--td-shadow-1,0 1px 10px rgba(0,0,0,.05),0 4px 5px rgba(0,0,0,.08),0 2px 4px -1px rgba(0,0,0,.12));background-color:var(--td-bg-color-container,var(--td-font-white-1,#fff));-webkit-transform:translateX(-50%);transform:translateX(-50%)}.t-rate__tips--bottom[data-v-000b8549]{top:calc(100% + %?16?%);bottom:auto}.t-rate__tips-item[data-v-000b8549]{display:flex;flex-direction:column;align-items:center;width:%?64?%;border-radius:%?6?%}.t-rate__tips-item--active[data-v-000b8549]{background-color:var(--td-bg-color-component,var(--td-gray-color-3,#e7e7e7))}.t-rate__tips-text[data-v-000b8549]{text-align:center;font:var(--td-font-body-medium,14px/22px var(--td-font-family,PingFang SC,Microsoft YaHei,Arial Regular))}",""]),e["default"]=s},83401:function(t,e,a){"use strict";a.d(e,{A:function(){return y}});var i,l={tIcon:a(14867).A},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{class:t.classPrefix,style:t.tools._style([t.customStyle])},[a("v-uni-view",{class:t.classPrefix+"__wrapper "+t.tClass,style:"font-size:"+t.utils.regSize(t.size),attrs:{"aria-role":"slider","aria-valuemax":t.count,"aria-valuemin":0,"aria-valuenow":t.dataValue,"aria-valuetext":t.utils.getText(t.texts,t.dataValue,t.defaultTexts)},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.parseEventDynamicCode(e,t.disabled?"":"onTouchStart")},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.parseEventDynamicCode(e,t.disabled?"":"onTouchMove")},click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTap.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.parseEventDynamicCode(e,t.disabled?"":"onTouchEnd")},touchcancel:function(e){arguments[0]=e=t.$handleEvent(e),t.parseEventDynamicCode(e,t.disabled?"":"onTouchEnd")}}},t._l(t.count,function(e,i){return a("t-icon",{key:i,attrs:{"t-class":t.classPrefix+"__icon "+t.utils.getIconClass(t.classPrefix+"__icon",t.defaultValue,t.dataValue,i,t.allowHalf,t.disabled,t.scaleIndex)+" "+t.tClassIcon,"custom-style":"margin-right: "+(t.count-i>1?t.tools.addUnit(t.gap):0)+"; "+t.utils.getColor(t.color),name:t.utils.getIconName(t.defaultValue,t.dataValue,i,t.icon),size:t.size,prefix:t.iconPrefix}})}),1),t.showText?a("v-uni-text",{class:t.tools.cls(t.classPrefix+"__text",[["active",t.dataValue>0]])+" "+t.tClassText,attrs:{"aria-hidden":!0}},[t._v(" "+t._s(t.utils.getText(t.texts,t.dataValue,t.defaultTexts))+" ")]):t._e(),t.isVisibleToScreenReader?a("v-uni-text",{class:t.tools.cls(t.classPrefix+"__text",[["active",t.dataValue>0],["sr-only",t.isVisibleToScreenReader]])+" "+t.tClassText,attrs:{"aria-role":"alert","aria-live":"assertive"}},[t._v(" "+t._s(t.dataValue+"星")+" "+t._s(t.utils.getText(t.texts,t.dataValue,t.defaultTexts))+" ")]):t._e(),t.tipsVisible&&t.placement?a("v-uni-view",{class:t.tools.cls(t.classPrefix+"__tips",[t.placement]),style:"left: "+t.tipsLeft+"px",attrs:{"aria-hidden":!0}},["tap"==t.actionType?[t.allowHalf?a("v-uni-view",{class:t.tools.cls(t.classPrefix+"__tips-item",[["active",t.utils.ceil(t.dataValue)-.5==t.dataValue]]),attrs:{"data-value":t.utils.ceil(t.dataValue)-.5},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSelect.apply(void 0,arguments)}}},[a("t-icon",{attrs:{"t-class":t.classPrefix+"__icon "+t.classPrefix+"__icon--selected-half",name:t.utils.getIconName(t.defaultValue,t.dataValue,0,t.icon),size:t.size,"custom-style":t.utils.getColor(t.color)}}),a("v-uni-view",{class:t.classPrefix+"__tips-text"},[t._v(" "+t._s(t.utils.ceil(t.dataValue)-.5)+" ")])],1):t._e(),a("v-uni-view",{class:t.tools.cls(t.classPrefix+"__tips-item",[["active",t.utils.ceil(t.dataValue)==t.dataValue]]),attrs:{"data-value":t.utils.ceil(t.dataValue)},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSelect.apply(void 0,arguments)}}},[a("t-icon",{attrs:{"t-class":t.tools.cls(t.classPrefix+"__icon",["selected"]),name:t.utils.getIconName(t.defaultValue,0,0,t.icon),size:t.size,"custom-style":t.utils.getColor(t.color)}}),a("v-uni-view",{class:t.classPrefix+"__tips-text"},[t._v(" "+t._s(t.utils.ceil(t.dataValue))+" ")])],1)]:a("v-uni-view",{class:t.tools.cls(t.classPrefix+"__tips-item",[["active",t.utils.ceil(t.dataValue)==t.dataValue&&"tap"==t.actionType]]),attrs:{"data-value":t.utils.ceil(t.dataValue)},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSelect.apply(void 0,arguments)}}},[a("t-icon",{attrs:{"t-class":t.tools.cls(t.classPrefix+"__icon",[["selected",t.utils.ceil(t.dataValue)==t.dataValue],["selected-half",t.utils.ceil(t.dataValue)!=t.dataValue]]),name:t.utils.getIconName(t.defaultValue,0,0,t.icon),size:t.size,"custom-style":t.utils.getColor(t.color)}}),a("v-uni-view",{class:t.classPrefix+"__tips-text"},[t._v(" "+t._s(t.dataValue)+" ")])],1)],2):t._e()],1)},n=[],s=a(70012),r=a(14867),c=a(88070),d=a(46056),u=(a(26128),a(27439),{allowHalf:Boolean,color:{type:[String,Array],default:"#ED7B2F"},count:{type:Number,default:5},disabled:{type:Boolean,default:void 0},gap:{type:[String,Number],default:8},icon:{type:[String,Array]},iconPrefix:{type:String,default:void 0},placement:{type:String,default:"top",validator:function(t){return!t||["top","bottom",""].includes(t)}},showText:Boolean,size:{type:[String,Number],default:"24px"},texts:{type:Array,default:function(){return[]}},value:{type:Number,default:0},defaultValue:{type:Number,default:0},variant:{type:String,default:"outline",validator:function(t){return!t||["outline","filled"].includes(t)}},onChange:{type:Function,default:function(){return{}}}}),v=a(11005),f=a(10263),p=(a(73645),a(33755),a(52093),{getText:function(t,e,a){t.length||(t=a);var i=Math.floor(e-1);return t[i]||"未评分"},getIconName:function(t,e,a,i){var l=e>=0?e:t,o=["star-filled","star-filled"];return i&&(o=Array.isArray(i)?i:[i,i]),o[l>=a+1?0:1]},getIconClass:function(t,e,a,i,l,o,n){var s=a>=0?a:e,r=[];return s>=i+1?(r.push("".concat(t,"--selected")),o&&r.push("".concat(t,"--disabled")),n===i+1&&r.push("".concat(t,"--current"))):l&&s-i>0?(r.push("".concat(t,"--selected-half")),n===i+1&&r.push("".concat(t,"--current")),o&&r.push("".concat(t,"--disabled-half"))):r.push("".concat(t,"--unselected")),r.join(" ")},ceil:function(t){return Math.ceil(t)},getColor:function(t){return Array.isArray(t)&&2===t.length?";--td-rate-selected-color: ".concat(t[0],"; --td-rate-unselected-color: ").concat(t[1]):"string"===typeof t?";--td-rate-selected-color: ".concat(t):""},regSize:function(t){var e="".concat(t);return e.indexOf("px")?e:"".concat(e,"px")}}),h=a(55534),x="".concat(d.Pl,"-rate"),g=(0,c.o1)({name:x,options:{styleIsolation:"shared"},controlledProps:[{key:"value",event:"change"}],externalClasses:["".concat(d.Pl,"-class"),"".concat(d.Pl,"-class-icon"),"".concat(d.Pl,"-class-text")],components:{TIcon:r.A},props:(0,s.A)({},u),data:function(){return{prefix:d.Pl,classPrefix:x,defaultTexts:["极差","失望","一般","满意","惊喜"],tipsVisible:!1,tipsLeft:0,actionType:"",scaleIndex:-1,isVisibleToScreenReader:!1,tools:f.A,utils:p,dataValue:(0,v.Yc)(this.value,this.defaultValue)}},watch:{value:{handler:function(t){this.dataValue=t},immediate:!0}},mounted:function(){},methods:{parseEventDynamicCode:h.s,onTouch:function(t,e){var a,i=this,l=this.count,o=this.allowHalf,n=this.gap,s=this.dataValue,r=this.size,c=null===(a=t.changedTouches)||void 0===a?void 0:a[0],d=(0,v.Gz)(n);(0,v.l)(this,".".concat(x,"__wrapper")).then(function(t){var a=t.width,u=t.left,f=(a-(l-1)*d)/l,p=c.pageX-u,h=(p+d)/(f+d),x=h%1,g=h-x,_=x<=.5&&o?g+.5:g+1;_>l?_=l:_<0&&(_=0);var m=Math.ceil(_-1)*((0,v.Gz)(n)+(0,v.Gz)(r))+.5*(0,v.Gz)(r);i.tipsVisible=!0,i.actionType=e,i.scaleIndex=Math.ceil(_),i.tipsLeft=Math.max(m,0),_!==s&&i.innerTrigger(_),i.touchEnd&&i.hideTips()})},innerTrigger:function(t){this._trigger("change",{value:t}),this._selfControlled&&(this.currentValue=t)},onTap:function(t){var e=this.disabled;e||this.onTouch(t,"tap")},onTouchStart:function(){this.touchEnd=!1},onTouchMove:function(t){this.onTouch(t,"move"),this.showAlertText()},onTouchEnd:function(){this.touchEnd=!0,this.hideTips()},hideTips:function(){"move"===this.actionType&&(this.tipsVisible=!1,this.scaleIndex=-1)},onSelect:function(t){var e=this,a=t.currentTarget.dataset.value,i=this.actionType;"move"!==i&&(this.innerTrigger(a),setTimeout(function(){e.tipsVisible=!1,e.scaleIndex=-1},300))},showAlertText:function(){var t=this;!0!==this.isVisibleToScreenReader&&(this.isVisibleToScreenReader=!0,setTimeout(function(){t.isVisibleToScreenReader=!1},2e3))}}}),_=g,m=(a(33148),a(1391)),b=(0,m.A)(_,o,n,!1,null,"000b8549",null,!1,l,i),y=b.exports}}]);