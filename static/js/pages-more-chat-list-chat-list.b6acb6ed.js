(self["webpackChunktdesign_uniapp_vue2_cli"]=self["webpackChunktdesign_uniapp_vue2_cli"]||[]).push([[2517],{3837:function(t,e,a){"use strict";a.r(e);var n=a(22093),s=a.n(n),o=a(12670),i=a.n(o),c=i()(s());c.push([t.id,".chat-box[data-v-7508df65]{padding-top:%?32?%;box-sizing:border-box}.t-chat__list[data-v-7508df65]{padding:0 0 0 %?32?%;box-sizing:border-box}.t-chat-message[data-v-7508df65]{padding:0 %?32?%}.preview[data-v-7508df65]{padding:%?16?%;display:flex;justify-content:space-between;border:1px solid var(--td-component-border)}.step[data-v-7508df65]{padding-top:%?24?%}.step-text-list[data-v-7508df65]{display:flex;flex-direction:column;gap:%?16?%}.step-text[data-v-7508df65]{text-align:start}.step-text.command[data-v-7508df65]{padding:%?16?%;border-radius:%?16?%;background-color:var(--td-bg-color-secondarycontainer);display:flex;font-size:%?28?%;line-height:%?44?%;color:var(--td-text-color-secondary)}.step-text.result[data-v-7508df65]{font-size:%?28?%;line-height:%?44?%;color:var(--td-text-color-primary)}.chat-box[data-v-7508df65]  .step-icon{margin-right:%?12?%;margin-top:%?6?%}.chat-box[data-v-7508df65]  .t-steps-item__circle--finish{background-color:initial;color:var(--td-text-color-primary);border:1px solid var(--td-text-color-primary);width:16px;height:16px}.chat-box[data-v-7508df65]  .t-steps-item__circle--finish .t-icon{font-size:12px}.chat-box[data-v-7508df65]  .t-steps-item__line--finish{background-color:var(--td-component-border)}.chat-box[data-v-7508df65]  .t-steps-item__title--finish{color:var(--td-text-color-primary);font-weight:600}",""]),e["default"]=c},4841:function(t,e,a){"use strict";a.r(e);var n=a(22093),s=a.n(n),o=a(12670),i=a.n(o),c=i()(s());c.push([t.id,".chat-box[data-v-2635cc0c]{padding-top:%?32?%;box-sizing:border-box}.image-chat .t-chat__list[data-v-2635cc0c]{padding:0 0 0 0;box-sizing:border-box}.t-chat-message[data-v-2635cc0c]{padding:0 %?32?%}.image-chat .t-chat__inner.assistant .t-chat__avatar[data-v-2635cc0c]{padding-left:%?32?%}.image-chat .assistant[data-v-2635cc0c],\n.image-chat .assistant .t-chat__detail[data-v-2635cc0c]{width:100%}.attachment-slide[data-v-2635cc0c]{height:%?274?%;width:100%}.attachment-slide .t-attachments[data-v-2635cc0c]{padding-right:%?32?%;padding-top:%?24?%;box-sizing:border-box;position:fixed;z-index:2;left:0;right:0}[data-v-2635cc0c] .attachment-slide .t-attachments .t-attachments__files:first-child{padding-left:%?120?%}[data-v-2635cc0c] .attachment-slide .t-attachments .t-attachments__files:last-child{padding-right:%?32?%}",""]),e["default"]=c},7452:function(t,e,a){var n=a(16807);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=a(31997).A;s("bac04436",n,!0,{sourceMap:!1,shadowMode:!1})},11521:function(t,e,a){"use strict";a.r(e);var n=a(22093),s=a.n(n),o=a(12670),i=a.n(o),c=i()(s());c.push([t.id,"uni-page-body[data-v-bc87069a]{background-color:var(--td-bg-color-container)}body.?%PAGE?%[data-v-bc87069a]{background-color:var(--td-bg-color-container)}.demo[data-v-bc87069a]{padding-bottom:0}",""]),e["default"]=c},13336:function(t,e,a){"use strict";var n=a(58638);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},16336:function(t,e,a){"use strict";var n=a(7463),s=a(34277),o=a(95428),i=a(34862),c=a(90011),r=n(i),l=n("".slice),d=Math.ceil,u=function(t){return function(e,a,n){var i,u,h=o(c(e)),p=s(a),g=h.length,m=void 0===n?" ":o(n);return p<=g||""===m?h:(i=p-g,u=r(m,d(i/m.length)),u.length>i&&(u=l(u,0,i)),t?h+u:u+h)}};t.exports={start:u(!1),end:u(!0)}},16440:function(t,e,a){var n=a(3837);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=a(31997).A;s("256ed6fa",n,!0,{sourceMap:!1,shadowMode:!1})},16807:function(t,e,a){"use strict";a.r(e);var n=a(22093),s=a.n(n),o=a(12670),i=a.n(o),c=i()(s());c.push([t.id,".t-chat-list[data-v-0ee857e8]{display:flex;flex-direction:column;height:100%;width:100%;color:var(--td-text-color-primary,var(--td-font-gray-1,rgba(0,0,0,.9)))}.t-chat-list__content[data-v-0ee857e8]{flex:1;overflow-y:auto;overflow-x:hidden;width:100%}.t-chat-list__content--reverse[data-v-0ee857e8]{display:flex;flex-direction:column;-webkit-transform:scaleY(-1);transform:scaleY(-1)}.t-chat-list__content--reverse[data-v-0ee857e8]::-webkit-scrollbar{-webkit-transform:scaleY(-1);transform:scaleY(-1)}.t-chat-list__content .placeholder[data-v-0ee857e8]{flex-grow:1;flex-shrink:1}\n.t-chat-list__content[data-v-0ee857e8]  .uni-scroll-view-content{display:flex;flex-direction:column}\n",""]),e["default"]=c},27661:function(t,e,a){var n=a(45630);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=a(31997).A;s("1b3b2890",n,!0,{sourceMap:!1,shadowMode:!1})},36995:function(t,e,a){var n=a(75632);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=a(31997).A;s("5cf513e0",n,!0,{sourceMap:!1,shadowMode:!1})},39206:function(t,e,a){"use strict";a.r(e);var n=a(22093),s=a.n(n),o=a(12670),i=a.n(o),c=i()(s());c.push([t.id,".chat-box[data-v-53394750]{padding-top:%?32?%;box-sizing:border-box}.t-chat__list[data-v-53394750]{padding:0 0 0 %?32?%;box-sizing:border-box}.t-chat-message[data-v-53394750]{padding:0 %?32?%}",""]),e["default"]=c},45630:function(t,e,a){"use strict";a.r(e);var n=a(22093),s=a.n(n),o=a(12670),i=a.n(o),c=i()(s());c.push([t.id,".chat-box[data-v-0d24140c]{padding-top:%?32?%;box-sizing:border-box}.t-chat__list[data-v-0d24140c]{padding:0 0 0 %?32?%;box-sizing:border-box}.t-chat-message[data-v-0d24140c]{padding:0 %?32?%}.preview[data-v-0d24140c]{padding:%?16?%;display:flex;justify-content:space-between;border:1px solid #000}",""]),e["default"]=c},50123:function(t,e,a){"use strict";var n=a(52439),s=a(16336).start,o=a(13336);n({target:"String",proto:!0,forced:o},{padStart:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},66249:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return Vt}});var n,s,o,i,c,r,l={tDemoNavbar:a(98383).A,tTabs:a(26231).A,tTabPanel:a(21023).A},d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("t-demo-navbar",{staticClass:"demo-navbar",attrs:{title:"ChatList"}}),a("v-uni-view",{staticClass:"demo"},[a("t-tabs",{attrs:{"space-evenly":!1,swipeable:!1,value:t.value},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onTabsChange.apply(void 0,arguments)}}},[a("t-tab-panel",{attrs:{label:"åŸºç¡€ä½¿ç”¨",value:0}},[a("base-demo")],1),a("t-tab-panel",{attrs:{label:"ç»„åˆå¼ç”¨æ³•",value:1}},[a("hook-component",{attrs:{"is-active":1===t.value}})],1),a("t-tab-panel",{attrs:{label:"æ–‡æ¡ˆåŠ©æ‰‹",value:4}},[a("docs-demo",{attrs:{"is-active":4===t.value}})],1),a("t-tab-panel",{attrs:{label:"å›¾åƒç”Ÿæˆ",value:5}},[a("image-demo",{attrs:{"is-active":5===t.value}})],1),a("t-tab-panel",{attrs:{label:"ä»»åŠ¡è§„åˆ’",value:6}},[a("agent-demo",{attrs:{"is-active":6===t.value}})],1)],1)],1)],1)},u=[],h=a(26231),p=a(21023),g={tChatList:a(88820).A,tChatMessage:a(36159).A,tChatActionbar:a(7590).A,tChatSender:a(11505).A,tToast:a(74688).A},m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"chat-box",style:"height: "+t.contentHeight+";"},[a("t-chat-list",{attrs:{id:"chatList"},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.onScroll(e,{tagId:"chatList"})}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("t-chat-sender",{attrs:{loading:t.loading,disabled:t.disabled,"auto-rise-with-keyboard":!0,"render-presets":t.renderPresets},on:{send:function(e){arguments[0]=e=t.$handleEvent(e),t.onSend.apply(void 0,arguments)},stop:function(e){arguments[0]=e=t.$handleEvent(e),t.onStop.apply(void 0,arguments)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.onFocus.apply(void 0,arguments)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})]},proxy:!0}])},[t._l(t.chatList,function(e){return[a("t-chat-message",{key:e.key+"_0",attrs:{avatar:e.avatar||"",name:e.name||"",datetime:e.datetime||"",content:e.content,role:e.role,placement:"user"===e.role?"right":"left",status:e.status||""},scopedSlots:t._u([{key:"actionbar",fn:function(){return[t.chatIndex!==t.chatList.length-1&&"complete"===e.status&&"assistant"===e.role?a("t-chat-actionbar",{attrs:{placement:"end"},on:{actions:function(e){arguments[0]=e=t.$handleEvent(e),t.handleAction.apply(void 0,arguments)}}}):t._e()]},proxy:!0}],null,!0)})]})],2)],1),a("t-toast",{ref:"t-toast"})],1)},f=[],v=a(45824),y=a(35927),b=a(38730),x=(a(53439),a(73645),a(77332),a(41790),a(50123),a(87019),a(36159)),A=a(88820),k=a(11505),_=a(7590),w=a(74688),C=a(43376),L=function(){try{var t,e,a=uni.getWindowInfo?uni.getWindowInfo():uni.getSystemInfoSync(),n=a.statusBarHeight||0,s=null===(t=(e=uni).getMenuButtonBoundingClientRect)||void 0===t?void 0:t.call(e);if(s){var o=s.bottom+(s.top-n);return o}var i=n+44;return i}catch(c){return console.error("è·å–å¯¼èˆªæ é«˜åº¦å¤±è´¥:",c),44}},T=0,S=function(){return T+=1,"key-".concat(T)},M="å—æçš„è‡ªåŠ¨ææ¬¾æœºå¹¶æ²¡æœ‰ä¸€ä¸ªç‰¹å®šçš„ä¸“å±åç§°ï¼Œä½†å†å²ä¸Šç¡®å®æœ‰ä¸€å°ATMæœºæ›¾çŸ­æš‚å­˜åœ¨äºå—æçš„**éº¦å…‹é»˜å¤šç«™**ï¼ˆMcMurdo Stationï¼‰ã€‚è¿™å°ATMç”±ç¾å›½**å¯Œå…°å…‹æ—å›½å®¶é“¶è¡Œ**ï¼ˆWells Fargoï¼‰äº1998å¹´å®‰è£…ï¼Œä¸»è¦ä¾›é©»æ‰åœ¨è¯¥ç«™çš„ç§‘ç ”äººå‘˜ä½¿ç”¨ã€‚ä¸è¿‡ï¼Œç”±äºå—æçš„æç«¯ç¯å¢ƒå’Œæä½çš„äººå£å¯†åº¦ï¼Œè¿™å°ATMæœºå¹¶æœªé•¿æœŸè¿è¡Œï¼Œæœ€ç»ˆè¢«ç§»é™¤ã€‚\n\n**èƒŒæ™¯è¡¥å……ï¼š**\n- **éº¦å…‹é»˜å¤šç«™**æ˜¯ç¾å›½åœ¨å—ææœ€å¤§çš„ç§‘ç ”åŸºåœ°ï¼Œå¤å­£äººå£å¯è¾¾çº¦1,000äººï¼Œå†¬å­£çº¦200äººã€‚\n- è¯¥ATMæœºæ›´å¤šæ˜¯ä½œä¸ºä¸€ç§è±¡å¾æ€§æœåŠ¡å­˜åœ¨ï¼Œå®é™…ä½¿ç”¨é¢‘ç‡æä½ï¼Œå› ä¸ºå—æç§‘è€ƒäººå‘˜é€šå¸¸ä¾é é¢„æ”¯èµ„é‡‘æˆ–ç”µå­æ”¯ä»˜ã€‚\n- ç›®å‰å—æå·²æ— é•¿æœŸè¿è¡Œçš„ATMæœºï¼Œç°ä»£ç§‘è€ƒç«™æ›´å¤šä¾èµ–éç°é‡‘äº¤æ˜“æ–¹å¼ã€‚\n\nå—æä½œä¸ºéä¸»æƒé¢†åœŸï¼Œå…¶åŸºç¡€è®¾æ–½ä»¥ç§‘ç ”å’Œç”Ÿæ´»æ”¯æŒä¸ºä¸»ï¼Œå•†ä¸šé‡‘èæœåŠ¡éå¸¸æœ‰é™ã€‚è‹¥æœ‰ç±»ä¼¼è®¾æ–½ï¼Œé€šå¸¸æ˜¯ä¸´æ—¶æˆ–å®éªŒæ€§è´¨çš„ã€‚",$=function(t){return new Promise(function(e){return setTimeout(e,t)})},I=function(){var t=(0,b.A)((0,y.A)().m(function t(e,a){var n,s,o,i,c,r;return(0,y.A)().w(function(t){while(1)switch(t.n){case 0:n=a.success,s=a.complete,o=a.delay,i=void 0===o?100:o,c=e.split(""),r=0;case 1:if(!(r<c.length)){t.n=4;break}return t.n=2,$(i);case 2:n(c[r]);case 3:r+=1,t.n=1;break;case 4:s();case 5:return t.a(2)}},t)}));return function(e,a){return t.apply(this,arguments)}}(),E={components:{TChatMessage:x.A,TChatList:A.A,TChatSender:k.A,TChatActionbar:_.A,TToast:w.A},data:function(){return{renderPresets:[{name:"send",type:"icon"}],chatList:[{avatar:"https://tdesign.gtimg.com/site/chat-avatar.png",role:"assistant",status:"complete",key:S(),content:[{type:"text",data:"å®ƒå« McMurdo Station ATMï¼Œæ˜¯ç¾å›½å¯Œå›½é“¶è¡Œå®‰è£…åœ¨å—ææ´²æœ€å¤§ç§‘å­¦ä¸­å¿ƒéº¦å…‹é»˜å¤šç«™çš„ä¸€å°è‡ªåŠ¨ææ¬¾æœºã€‚"}]},{role:"user",key:S(),content:[{type:"text",data:"ç‰›é¡¿ç¬¬ä¸€å®šå¾‹æ˜¯å¦é€‚ç”¨äºæ‰€æœ‰å‚è€ƒç³»ï¼Ÿ"}]}],value:"",loading:!1,disabled:!1,inputStyle:"",contentHeight:"100vh",animation:"dots",chatIndex:""}},options:{styleIsolation:"shared"},mounted:function(){this.attached()},created:function(){},methods:{attached:function(){try{var t=L()||0,e="calc(100vh - 96rpx - ".concat(t,"px)");this.contentHeight=e,console.log("å†…å®¹åŒºåŸŸé«˜åº¦CSSè¡¨è¾¾å¼:",e)}catch(a){console.log("CatchClause",a),console.log("CatchClause",a),console.error("ç”Ÿæˆå†…å®¹é«˜åº¦è¡¨è¾¾å¼å¤±è´¥:",a),this.contentHeight="calc(100vh - 96rpx)"}},scrollToBottom:function(){var t=this.zpSelectComponent("#chatList");t&&"function"===typeof t.scrollToBottom&&t.scrollToBottom()},onScroll:function(t){console.log("ç›‘å¬æ»šåŠ¨",t)},onSend:function(t){var e=t.value;if(e&&""!==e.trim()){var a={role:"user",key:S(),content:[{type:"text",data:e.trim()}]};this.chatList=[a].concat((0,v.A)(this.chatList)),this.value="",this.simulateAssistantReply(e.trim())}},onStop:function(){this.loading=!1},onFocus:function(){console.log("è¾“å…¥æ¡†èšç„¦")},getCurrentTime:function(){var t=new Date,e=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0");return"".concat(e,":").concat(a)},simulateAssistantReply:function(){this.loading=!0;var t={role:"assistant",key:S(),content:[{type:"markdown",data:""}],avatar:"https://tdesign.gtimg.com/site/chat-avatar.png",status:"pending"};this.chatList=[t].concat((0,v.A)(this.chatList));var e=this;this.$nextTick(function(){I(M,{success:function(t){e.chatList[0].status="streaming",e.loading&&(e.chatList[0].content[0].data+=t)},complete:function(){e.chatList[0].status="complete",e.loading=!1}})})},handleAction:function(t){var e=t.name,a=t.active,n=t.data,s="";switch(e){case"replay":s="é‡æ–°ç”Ÿæˆ";break;case"copy":console.log(n),s="å¤åˆ¶æˆåŠŸ";break;case"good":s=a?"ç‚¹èµæˆåŠŸ":"å–æ¶ˆç‚¹èµ";break;case"bad":s=a?"ç‚¹è¸©æˆåŠŸ":"å–æ¶ˆç‚¹è¸©";break;case"share":s="åˆ†äº«åŠŸèƒ½";break;default:s="æ‰§è¡Œäº†".concat(e,"æ“ä½œ")}(0,C.Ay)({context:this,selector:"#t-toast",message:s,theme:"success"})}}},P=E,H=(a(36995),a(1391)),z=(0,H.A)(P,m,f,!1,null,"348e5610",null,!1,g,n),F=z.exports,B={tChatList:a(88820).A,tChatMessage:a(36159).A,tChatActionbar:a(7590).A,tChatSender:a(11505).A,tToast:a(74688).A},D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"chat-box",style:"height: "+t.contentHeight+";"},[a("t-chat-list",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("t-chat-sender",{attrs:{value:t.value,loading:t.loading,disabled:t.disabled,"render-presets":t.renderPresets,"auto-rise-with-keyboard":!0},on:{send:function(e){arguments[0]=e=t.$handleEvent(e),t.onSend.apply(void 0,arguments)},stop:function(e){arguments[0]=e=t.$handleEvent(e),t.onStop.apply(void 0,arguments)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.onFocus.apply(void 0,arguments)}}})]},proxy:!0}])},[t._l(t.chatList,function(e){return[a("t-chat-message",{key:e.key+"_0",attrs:{avatar:e.avatar||"",name:e.name||"",datetime:e.datetime||"",content:e.message.content,role:e.message.role,placement:"user"===e.message.role?"right":"left"},scopedSlots:t._u([{key:"actionbar",fn:function(){return[t.chatIndex!==t.chatList.length-1&&"complete"===e.message.status&&"assistant"===e.message.role?a("t-chat-actionbar",{attrs:{placement:"end"},on:{actions:function(e){arguments[0]=e=t.$handleEvent(e),t.handleAction.apply(void 0,arguments)}}}):t._e()]},proxy:!0}],null,!0)})]})],2)],1),a("t-toast",{ref:"t-toast"})],1)},R=[],V=(a(52093),0),q=function(){return V+=1,"key-".concat(V)},U={avatar:"https://tdesign.gtimg.com/site/chat-avatar.png",key:q(),message:{role:"assistant",content:[{type:"thinking",status:"complete",data:{title:"æ€è€ƒä¸­",text:""}}]}},W="å—¯ï¼Œç”¨æˆ·é—®çš„æ˜¯å—æçš„è‡ªåŠ¨ææ¬¾æœºå«ä»€ä¹ˆåå­—ã€‚è¿™ä¸ªé—®é¢˜æœ‰ç‚¹æœ‰è¶£ï¼Œå› ä¸ºå—ææ˜¯ä¸€ä¸ªæç«¯å¯’å†·çš„åœ°æ–¹ï¼Œè€Œä¸”å¤§éƒ¨åˆ†åœ°åŒºéƒ½æ˜¯æ— äººå±…ä½çš„ç§‘ç ”ç«™ã€‚\n",Y="\n\nå—æçš„è‡ªåŠ¨ææ¬¾æœºå¹¶æ²¡æœ‰ä¸€ä¸ªç‰¹å®šçš„ä¸“å±åç§°ï¼Œä½†å†å²ä¸Šç¡®å®æœ‰ä¸€å°ATMæœºæ›¾çŸ­æš‚å­˜åœ¨äºå—æçš„**éº¦å…‹é»˜å¤šç«™**ï¼ˆMcMurdo Stationï¼‰ã€‚è¿™å°ATMç”±ç¾å›½**å¯Œå…°å…‹æ—å›½å®¶é“¶è¡Œ**ï¼ˆWells Fargoï¼‰äº1998å¹´å®‰è£…ï¼Œä¸»è¦ä¾›é©»æ‰åœ¨è¯¥ç«™çš„ç§‘ç ”äººå‘˜ä½¿ç”¨ã€‚ä¸è¿‡ï¼Œç”±äºå—æçš„æç«¯ç¯å¢ƒå’Œæä½çš„äººå£å¯†åº¦ï¼Œè¿™å°ATMæœºå¹¶æœªé•¿æœŸè¿è¡Œï¼Œæœ€ç»ˆè¢«ç§»é™¤ã€‚\n\n**èƒŒæ™¯è¡¥å……ï¼š**\n- **éº¦å…‹é»˜å¤šç«™**æ˜¯ç¾å›½åœ¨å—ææœ€å¤§çš„ç§‘ç ”åŸºåœ°ï¼Œå¤å­£äººå£å¯è¾¾çº¦1,000äººï¼Œå†¬å­£çº¦200äººã€‚\n- è¯¥ATMæœºæ›´å¤šæ˜¯ä½œä¸ºä¸€ç§è±¡å¾æ€§æœåŠ¡å­˜åœ¨ï¼Œå®é™…ä½¿ç”¨é¢‘ç‡æä½ï¼Œå› ä¸ºå—æç§‘è€ƒäººå‘˜é€šå¸¸ä¾é é¢„æ”¯èµ„é‡‘æˆ–ç”µå­æ”¯ä»˜ã€‚\n- ç›®å‰å—æå·²æ— é•¿æœŸè¿è¡Œçš„ATMæœºï¼Œç°ä»£ç§‘è€ƒç«™æ›´å¤šä¾èµ–éç°é‡‘äº¤æ˜“æ–¹å¼ã€‚\n\nå—æä½œä¸ºéä¸»æƒé¢†åœŸï¼Œå…¶åŸºç¡€è®¾æ–½ä»¥ç§‘ç ”å’Œç”Ÿæ´»æ”¯æŒä¸ºä¸»ï¼Œå•†ä¸šé‡‘èæœåŠ¡éå¸¸æœ‰é™ã€‚è‹¥æœ‰ç±»ä¼¼è®¾æ–½ï¼Œé€šå¸¸æ˜¯ä¸´æ—¶æˆ–å®éªŒæ€§è´¨çš„ã€‚",j=function(t){return new Promise(function(e){return setTimeout(e,t)})},N=function(){var t=(0,b.A)((0,y.A)().m(function t(e,a){var n,s,o,i,c,r;return(0,y.A)().w(function(t){while(1)switch(t.n){case 0:n=a.success,s=a.complete,o=a.delay,i=void 0===o?100:o,c=e.split(""),r=0;case 1:if(!(r<c.length)){t.n=4;break}return t.n=2,j(i);case 2:n(c[r]);case 3:r+=1,t.n=1;break;case 4:s();case 5:return t.a(2)}},t)}));return function(e,a){return t.apply(this,arguments)}}(),G={components:{TChatMessage:x.A,TChatList:A.A,TChatSender:k.A,TChatActionbar:_.A,TToast:w.A},props:{isActive:{type:Boolean,default:!1}},data:function(){return{renderPresets:[{name:"send",type:"icon"}],chatList:[{avatar:"https://tdesign.gtimg.com/site/chat-avatar.png",key:q(),message:{status:"complete",role:"assistant",content:[{type:"text",data:"å®ƒå« McMurdo Station ATMï¼Œæ˜¯ç¾å›½å¯Œå›½é“¶è¡Œå®‰è£…åœ¨å—ææ´²æœ€å¤§ç§‘å­¦ä¸­å¿ƒéº¦å…‹é»˜å¤šç«™çš„ä¸€å°è‡ªåŠ¨ææ¬¾æœºã€‚"}]}},{message:{role:"user",content:[{type:"text",data:"ç‰›é¡¿ç¬¬ä¸€å®šå¾‹æ˜¯å¦é€‚ç”¨äºæ‰€æœ‰å‚è€ƒç³»ï¼Ÿ"}]}}],value:"",loading:!1,disabled:!1,inputStyle:"",contentHeight:"100vh",chatIndex:""}},watch:{isActive:{handler:function(t){this.value=t?"å—æçš„è‡ªåŠ¨ææ¬¾æœºå«ä»€ä¹ˆåå­—":""},immediate:!0}},mounted:function(){this.attached()},created:function(){},methods:{attached:function(){try{var t=L()||0,e="calc(100vh - 96rpx - ".concat(t,"px)");this.contentHeight=e,console.log("å†…å®¹åŒºåŸŸé«˜åº¦CSSè¡¨è¾¾å¼:",e)}catch(a){console.log("CatchClause",a),console.log("CatchClause",a),console.error("ç”Ÿæˆå†…å®¹é«˜åº¦è¡¨è¾¾å¼å¤±è´¥:",a),this.contentHeight="calc(100vh - 96rpx)"}},onSend:function(t){var e=t.value;if(e&&""!==e.trim()){var a={key:q(),message:{role:"user",content:[{type:"text",data:e.trim()}]}};this.chatList=[a].concat((0,v.A)(this.chatList)),this.value="",this.simulateAssistantReply(e.trim())}},onStop:function(){console.log("åœæ­¢å‘é€"),this.loading=!1},onFocus:function(){console.log("è¾“å…¥æ¡†èšç„¦")},getCurrentTime:function(){var t=new Date,e=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0");return"".concat(e,":").concat(a)},simulateAssistantReply:function(){this.loading=!0;var t=U;this.chatList=[t].concat((0,v.A)(this.chatList));var e=this;this.$nextTick((0,b.A)((0,y.A)().m(function t(){return(0,y.A)().w(function(t){while(1)switch(t.n){case 0:return t.n=1,N(W,{success:function(t){e.loading&&(e.chatList[0].message.content[0].data.text+=t)},complete:function(){e.chatList[0].message.content[0].data.title="æ€è€ƒå®Œæˆ"}});case 1:if(e.loading){t.n=2;break}return t.a(2);case 2:return e.chatList[0].message.content.push({type:"markdown",data:""}),t.n=3,N(Y,{success:function(t){e.loading&&(e.chatList[0].message.content[1].data+=t)},complete:function(){e.chatList[0].message.status="complete",e.loading=!1}});case 3:return t.a(2)}},t)})))},handleAction:function(t){var e=t.name,a=t.active,n=t.data,s="";switch(e){case"replay":s="é‡æ–°ç”Ÿæˆ";break;case"copy":console.log(n),s="å¤åˆ¶æˆåŠŸ";break;case"good":s=a?"ç‚¹èµæˆåŠŸ":"å–æ¶ˆç‚¹èµ";break;case"bad":s=a?"ç‚¹è¸©æˆåŠŸ":"å–æ¶ˆç‚¹è¸©";break;case"share":s="åˆ†äº«åŠŸèƒ½";break;default:s="æ‰§è¡Œäº†".concat(e,"æ“ä½œ")}(0,C.Ay)({context:this,selector:"#t-toast",message:s,theme:"success"})}}},J=G,K=(a(88517),(0,H.A)(J,D,R,!1,null,"53394750",null,!1,B,s)),O=K.exports,Q={tChatList:a(88820).A,tChatMessage:a(36159).A,tChatActionbar:a(7590).A,tChatSender:a(11505).A,tToast:a(74688).A},X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"chat-box",style:"height: "+t.contentHeight+";"},[a("t-chat-list",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("t-chat-sender",{attrs:{value:t.value,loading:t.loading,disabled:t.disabled,"file-list":t.fileList,"attachments-props":t.attachmentsProps,"render-presets":t.renderPresets,"auto-rise-with-keyboard":!0},on:{send:function(e){arguments[0]=e=t.$handleEvent(e),t.onSend.apply(void 0,arguments)},stop:function(e){arguments[0]=e=t.$handleEvent(e),t.onStop.apply(void 0,arguments)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.onFocus.apply(void 0,arguments)},keyboardheightchange:function(e){arguments[0]=e=t.$handleEvent(e),t.onkeyboardheightchange.apply(void 0,arguments)},updateVisible:function(e){arguments[0]=e=t.$handleEvent(e),t.onUpdateVisible.apply(void 0,arguments)},fileDelete:function(e){arguments[0]=e=t.$handleEvent(e),t.onFileDelete.apply(void 0,arguments)},fileChange:function(e){arguments[0]=e=t.$handleEvent(e),t.onFileChange.apply(void 0,arguments)}},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}})]},proxy:!0}])},[t._l(t.chatList,function(e,n){return[a("t-chat-message",{key:e.key+"_0",attrs:{avatar:e.avatar||"",name:e.name||"",datetime:e.datetime||"",content:e.message.content,role:e.message.role,"chat-content-props":t.chatContentProps,placement:"user"===e.message.role?"right":"left"},scopedSlots:t._u([{key:"actionbar",fn:function(){return[n!==t.chatList.length-1&&"complete"===e.message.status&&"assistant"===e.message.role?a("t-chat-actionbar",{attrs:{"action-bar":t.customActionBar},on:{actions:function(e){arguments[0]=e=t.$handleEvent(e),t.handleAction.apply(void 0,arguments)}}}):t._e()]},proxy:!0}],null,!0)})]})],2)],1),a("t-toast",{ref:"t-toast"})],1)},Z=[],tt=a(70012),et=(a(88803),a(81240),a(17932),a(96466),0),at=function(){return et+=1,"key-".concat(et)},nt="ğŸŒ¼å®å­ä»¬ï¼Œæ˜¥å¤©æ¥å•¦ï¼Œè¿™äº›æˆ·å¤–éƒŠæ¸¸æ‰“å¡åœ°ä½ å¿…é¡»çŸ¥é“ğŸ‘\n\nğŸŒŸéƒŠé‡å…¬å›­\nè¿™é‡Œæœ‰å¤§ç‰‡çš„è‰åœ°å’Œå„ç§èŠ±å‰ï¼Œéšä¾¿ä¸€æ‹éƒ½æ˜¯å¤§ç‰‡æ—¢è§†æ„ŸğŸ“·ã€‚è¿˜èƒ½æ”¾é£ç­ã€é‡é¤ï¼Œäº«å—æƒ¬æ„çš„æ˜¥æ—¥æ—¶å…‰ã€‚\n\nğŸŒ³æ¤ç‰©å›­\nå„ç§çç¨€æ¤ç‰©æ±‡èšäºæ­¤ï¼Œä»¿ä½›ç½®èº«äºç»¿è‰²çš„æµ·æ´‹ã€‚æ¼«æ­¥å…¶ä¸­ï¼Œæ„Ÿå—å¤§è‡ªç„¶çš„ç¥å¥‡ä¸ç¾ä¸½ã€‚\n\nğŸ’§æ¹–è¾¹æ¹¿åœ°\næ¹–æ°´æ¸…æ¾ˆï¼Œå‘¨å›´ç”Ÿæ€ç¯å¢ƒä¼˜è¶Šã€‚èƒ½çœ‹åˆ°å¾ˆå¤šå€™é¸Ÿå’Œæ°´ç”Ÿæ¤ç‰©ï¼Œæ˜¯äº²è¿‘è‡ªç„¶çš„å¥½å»å¤„ã€‚\n\nå®å­ä»¬ï¼Œèµ¶ç´§æ”¶æ‹¾è¡Œå›Šï¼Œå»è¿™äº›åœ°æ–¹æ‰“å¡å§ğŸ˜œã€‚\n\n#æ˜¥å¤©éƒŠæ¸¸ #æ‰“å¡ç›®çš„åœ° #æˆ·å¤–ä¹‹æ—… #æ˜¥æ—¥ç¾æ™¯",st=function(t){return new Promise(function(e){return setTimeout(e,t)})},ot=function(){var t=(0,b.A)((0,y.A)().m(function t(e,a){var n,s,o,i,c,r;return(0,y.A)().w(function(t){while(1)switch(t.n){case 0:n=a.success,s=a.complete,o=a.delay,i=void 0===o?100:o,c=e.split(""),r=0;case 1:if(!(r<c.length)){t.n=4;break}return t.n=2,st(i);case 2:n(c[r]);case 3:r+=1,t.n=1;break;case 4:s();case 5:return t.a(2)}},t)}));return function(e,a){return t.apply(this,arguments)}}(),it={components:{TChatMessage:x.A,TChatList:A.A,TChatSender:k.A,TChatActionbar:_.A,TToast:w.A},props:{isActive:{type:Boolean,default:!1}},data:function(){return{customActionBar:["copy","good","bad"],chatList:[{avatar:"https://tdesign.gtimg.com/site/chat-avatar.png",key:at(),message:{role:"assistant",content:[{type:"text",data:"æ¬¢è¿ä½¿ç”¨TDesignæ–‡æ¡ˆå†™ä½œåŠ©æ‰‹ï¼Œå¯ä»¥å…ˆä¸Šä¼ ä½ éœ€è¦å‚è€ƒçš„æ–‡ä»¶ï¼Œè¾“å…¥ä½ è¦æ’°å†™çš„ä¸»é¢˜~"}]}}],value:"",loading:!1,disabled:!1,inputStyle:"",attachmentsProps:{items:[],removable:!0,imageViewer:!0,addable:!1},renderPresets:[{name:"upload",presets:["uploadCamera","uploadImage","uploadAttachment"],status:""},{name:"send",type:"icon"}],fileList:[],visible:!1,chatContentProps:{thinking:{maxHeight:100,collapsed:!0}},contentHeight:"100vh",chatIndex:0}},watch:{isActive:{handler:function(t){var e=this;setTimeout(function(){e.value=t?"æ ¹æ®æ‰€æä¾›çš„ææ–™æ€»ç»“ä¸€ç¯‡æ–‡ç« ï¼Œæ¨èæ˜¥å¤©æˆ·å¤–éƒŠæ¸¸æ‰“å¡ç›®çš„åœ°ï¼Œéœ€è¦ç¬¦åˆå°çº¢ä¹¦å¹³å°å†™ä½œé£æ ¼":""},30)},immediate:!0}},mounted:function(){this.attached()},created:function(){},methods:{attached:function(){try{var t=L()||0,e="calc(100vh - 96rpx - ".concat(t,"px)");this.contentHeight=e,console.log("å†…å®¹åŒºåŸŸé«˜åº¦CSSè¡¨è¾¾å¼:",e)}catch(a){console.log("CatchClause",a),console.log("CatchClause",a),console.error("ç”Ÿæˆå†…å®¹é«˜åº¦è¡¨è¾¾å¼å¤±è´¥:",a),this.contentHeight="calc(100vh - 96rpx)"}},onSend:function(t){var e=t.value;if(e&&""!==e.trim()){var a=[{type:"text",data:e.trim()}],n=this.attachmentsProps.items.map(function(t){return(0,tt.A)((0,tt.A)({},t),{},{status:"success"})});a.unshift({type:"attachment",data:n}),this.attachmentsProps=(0,tt.A)((0,tt.A)({},this.attachmentsProps),{},{items:[]}),this.fileList=[];var s={key:at(),message:{role:"user",content:a}};this.chatList=[s].concat((0,v.A)(this.chatList)),this.value="",this.simulateAssistantReply(e.trim())}},onStop:function(){console.log("åœæ­¢å‘é€"),this.loading=!1},onFocus:function(){console.log("è¾“å…¥æ¡†èšç„¦")},onUpdateVisible:function(t){var e=t;console.log("ä¸Šä¼ é¢æ¿æ˜¾ç¤ºçŠ¶æ€:",e),this.visible=e},onFileDelete:function(){this.attachmentsProps=(0,tt.A)((0,tt.A)({},this.attachmentsProps),{},{items:[]})},onFileChange:function(t){var e=t.files;this.attachmentsProps=(0,tt.A)((0,tt.A)({},this.attachmentsProps),{},{items:e}),this.fileList=e},simulateAssistantReply:function(){this.loading=!0;var t={avatar:"https://tdesign.gtimg.com/site/chat-avatar.png",key:at(),message:{role:"assistant",content:[{type:"markdown",data:""}]}};this.chatList=[t].concat((0,v.A)(this.chatList));var e=this;this.$nextTick(function(){ot(nt,{success:function(t){e.loading&&(e.chatList[0].message.content[0].data+=t)},complete:function(){e.chatList[0].message.status="complete",e.loading=!1}})})},handleAction:function(t){var e=t.name,a=t.active,n=t.data,s="";switch(e){case"replay":s="é‡æ–°ç”Ÿæˆ";break;case"copy":console.log(n),s="å¤åˆ¶æˆåŠŸ";break;case"good":s=a?"ç‚¹èµæˆåŠŸ":"å–æ¶ˆç‚¹èµ";break;case"bad":s=a?"ç‚¹è¸©æˆåŠŸ":"å–æ¶ˆç‚¹è¸©";break;case"share":s="åˆ†äº«åŠŸèƒ½";break;default:s="æ‰§è¡Œäº†".concat(e,"æ“ä½œ")}(0,C.Ay)({context:this,selector:"#t-toast",message:s,theme:"success"})},onkeyboardheightchange:function(){console.log("å ä½ï¼šå‡½æ•° onkeyboardheightchange æœªå£°æ˜")}}},ct=it,rt=(a(27661),(0,H.A)(ct,X,Z,!1,null,"0d24140c",null,!1,Q,o)),lt=rt.exports,dt={tChatList:a(88820).A,tChatMessage:a(36159).A,tChatContent:a(19284).A,tAttachments:a(27812).A,tChatActionbar:a(7590).A,tChatSender:a(11505).A,tToast:a(74688).A},ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"chat-box image-chat",style:"height: "+t.contentHeight+";"},[a("t-chat-list",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("t-chat-sender",{attrs:{value:t.value,loading:t.loading,disabled:t.disabled,"render-presets":t.renderPresets,"auto-rise-with-keyboard":!0},on:{send:function(e){arguments[0]=e=t.$handleEvent(e),t.onSend.apply(void 0,arguments)},stop:function(e){arguments[0]=e=t.$handleEvent(e),t.onStop.apply(void 0,arguments)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.onFocus.apply(void 0,arguments)}}})]},proxy:!0}])},[t._l(t.chatList,function(e,n){return[a("t-chat-message",{key:e.key+"_0",attrs:{avatar:e.avatar||"",name:e.name||"",datetime:e.datetime||"",role:e.message.role,placement:"user"===e.message.role?"right":"left"},scopedSlots:t._u([{key:"content",fn:function(){return["user"===e.message.role?a("v-uni-view",[t._l(e.message.content,function(n,s){return["text"===n.type||"markdown"===n.type?a("t-chat-content",{key:s+"_0",attrs:{content:n,role:e.message.role}}):t._e()]})],2):a("v-uni-view",{staticStyle:{width:"100%"}},[t._l(e.message.content,function(t,n){return["text"===t.type||"markdown"===t.type?a("t-chat-content",{key:n+"_0",attrs:{content:t,role:e.message.role}}):a("v-uni-view",{staticClass:"attachment-slide"},[a("t-attachments",{attrs:{items:t.data,"in-chat":!0,removable:!1}})],1)]})],2)]},proxy:!0},{key:"actionbar",fn:function(){return[n!==t.chatList.length-1&&"complete"===e.message.status&&"assistant"===e.message.role?a("t-chat-actionbar",{attrs:{placement:"end"},on:{actions:function(e){arguments[0]=e=t.$handleEvent(e),t.handleAction.apply(void 0,arguments)}}}):t._e()]},proxy:!0}],null,!0)})]})],2)],1),a("t-toast",{ref:"t-toast"})],1)},ht=[],pt=a(19284),gt=a(27812),mt=0,ft=function(){return mt+=1,"key-".concat(mt)},vt=function(t){return new Promise(function(e){return setTimeout(e,t)})},yt=function(){var t=(0,b.A)((0,y.A)().m(function t(e,a){var n,s,o,i,c,r;return(0,y.A)().w(function(t){while(1)switch(t.n){case 0:n=a.success,s=a.complete,o=a.delay,i=void 0===o?100:o,c=e.split(""),r=0;case 1:if(!(r<c.length)){t.n=4;break}return t.n=2,vt(i);case 2:n(c[r]);case 3:r+=1,t.n=1;break;case 4:s();case 5:return t.a(2)}},t)}));return function(e,a){return t.apply(this,arguments)}}(),bt={components:{TChatMessage:x.A,TChatContent:pt.A,TChatList:A.A,TChatSender:k.A,TChatActionbar:_.A,TToast:w.A,TAttachments:gt.A},props:{isActive:{type:Boolean,default:!1}},data:function(){return{renderPresets:[{name:"send",type:"icon"}],customActionBar:["good","bad"],chatList:[{avatar:"https://tdesign.gtimg.com/site/chat-avatar.png",key:ft(),message:{role:"assistant",content:[{type:"text",data:"æ¬¢è¿ä½¿ç”¨TDesignæ™ºèƒ½ç”Ÿå›¾åŠ©æ‰‹ï¼Œè¯·å…ˆå†™ä¸‹ä½ çš„åˆ›æ„ï¼Œå¯ä»¥è¯•è¯•ä¸Šä¼ å‚è€ƒå›¾å“¦ï½"}]}}],value:"",loading:!1,disabled:!1,inputStyle:"",attachmentsProps:{items:[],removable:!0,imageViewer:!0,addable:!1},contentHeight:"100vh",chatIndex:0,contentIndex:0,contentItem:{type:"",data:""}}},options:{styleIsolation:"shared"},watch:{isActive:{handler:function(t){this.value=t?"è¯·ä¸ºTdesignè®¾è®¡ä¸‰å¼ å“ç‰Œå®£ä¼ å›¾":""},immediate:!0}},mounted:function(){this.attached()},created:function(){},methods:{attached:function(){try{var t=L()||0,e="calc(100vh - 96rpx - ".concat(t,"px)");this.contentHeight=e,console.log("å†…å®¹åŒºåŸŸé«˜åº¦CSSè¡¨è¾¾å¼:",e)}catch(a){console.log("CatchClause",a),console.log("CatchClause",a),console.error("ç”Ÿæˆå†…å®¹é«˜åº¦è¡¨è¾¾å¼å¤±è´¥:",a),this.contentHeight="calc(100vh - 96rpx)"}},onSend:function(t){var e=t.value;if(e&&""!==e.trim()){var a={key:ft(),message:{role:"user",content:[{type:"text",data:e.trim()}]}};this.chatList=[a].concat((0,v.A)(this.chatList)),this.value="",this.simulateAssistantReply(e.trim())}},onStop:function(){console.log("åœæ­¢å‘é€"),this.loading=!1},onFocus:function(){console.log("è¾“å…¥æ¡†èšç„¦")},onUpdateVisible:function(){var t=this;uni.chooseMessageFile({count:1,type:"file",success:function(e){var a=e.tempFiles[0];console.log("é€‰æ‹©çš„æ–‡ä»¶ä¿¡æ¯ï¼š",a);var n={fileType:"doc",name:a.name,url:a.path,size:a.size,status:"success"};this.attachmentsProps=(0,tt.A)((0,tt.A)({},t.attachmentsProps),{},{items:[n]})},fail:function(t){console.error("é€‰æ‹©æ–‡ä»¶å¤±è´¥ï¼š",t)}})},simulateAssistantReply:function(){this.loading=!0;var t={avatar:"https://tdesign.gtimg.com/site/chat-avatar.png",key:ft(),message:{role:"assistant",content:[{type:"markdown",data:""}]}};this.chatList=[t].concat((0,v.A)(this.chatList));var e=this;this.$nextTick((0,b.A)((0,y.A)().m(function t(){return(0,y.A)().w(function(t){while(1)switch(t.n){case 0:return t.n=1,yt("æ¥ä¸‹æ¥æˆ‘å°†ç”Ÿæˆç¬¦åˆè¦æ±‚çš„å›¾ç‰‡",{success:function(t){e.loading&&(e.chatList[0].message.content[0].data+=t)},complete:function(){}});case 1:if(e.loading){t.n=2;break}return t.a(2);case 2:e.chatList[0].message.content.push({type:"imageview",status:"complete",data:[{name:"sample1.png",url:"https://tdesign.gtimg.com/site/square.png",fileType:"image",status:"success",size:1032,width:128,height:128},{name:"sample2.png",url:"https://tdesign.gtimg.com/site/square.png",fileType:"image",status:"success",size:1032,width:128,height:128},{name:"sample3.png",url:"https://tdesign.gtimg.com/site/square.png",fileType:"image",status:"success",size:1032,width:128,height:128},{name:"sample4.png",url:"https://tdesign.gtimg.com/site/square.png",fileType:"image",status:"success",size:1032,width:128,height:128},{name:"sample5.png",url:"https://tdesign.gtimg.com/site/square.png",fileType:"image",status:"success",size:1032,width:128,height:128}]}),e.chatList[0].message.status="complete",e.loading=!1;case 3:return t.a(2)}},t)})))},handleAction:function(t){var e=t.name,a=t.active,n=t.data;console.log("[handleAction]",e);var s="";switch(e){case"replay":s="é‡æ–°ç”Ÿæˆ";break;case"copy":console.log(n),s="å¤åˆ¶æˆåŠŸ";break;case"good":s=a?"ç‚¹èµæˆåŠŸ":"å–æ¶ˆç‚¹èµ";break;case"bad":s=a?"ç‚¹è¸©æˆåŠŸ":"å–æ¶ˆç‚¹è¸©";break;case"share":s="åˆ†äº«åŠŸèƒ½";break;default:s="æ‰§è¡Œäº†".concat(e,"æ“ä½œ")}(0,C.Ay)({context:this,selector:"#t-toast",message:s,theme:"success"})}}},xt=bt,At=(a(90968),(0,H.A)(xt,ut,ht,!1,null,"2635cc0c",null,!1,dt,i)),kt=At.exports,_t={tChatList:a(88820).A,tChatMessage:a(36159).A,tChatContent:a(19284).A,tSteps:a(50537).A,tStepItem:a(59236).A,tIcon:a(14867).A,tChatActionbar:a(7590).A,tChatSender:a(11505).A,tToast:a(74688).A},wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"chat-box",style:"height: "+t.contentHeightClone+";"},[a("t-chat-list",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("t-chat-sender",{attrs:{value:t.value,loading:t.loading,disabled:t.disabled,"render-presets":t.renderPresets,"auto-rise-with-keyboard":!0},on:{send:function(e){arguments[0]=e=t.$handleEvent(e),t.onSend.apply(void 0,arguments)},stop:function(e){arguments[0]=e=t.$handleEvent(e),t.onStop.apply(void 0,arguments)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.onFocus.apply(void 0,arguments)}}})]},proxy:!0}])},[t._l(t.chatList,function(e,n){return[a("t-chat-message",{key:e.key+"_0",attrs:{avatar:e.avatar||"",name:e.name||"",datetime:e.datetime||"",role:e.message.role,placement:"user"===e.message.role?"right":"left"},scopedSlots:t._u([{key:"content",fn:function(){return[t._l(e.message.content,function(n,s){return["text"===n.type||"markdown"===n.type?a("t-chat-content",{key:s+"_0",attrs:{content:n,role:e.message.role}}):t._e(),"agent"===n.type?a("v-uni-view",{key:s+"_1",staticClass:"step"},[a("t-steps",{attrs:{layout:"vertical",current:n.content.steps.length}},t._l(n.content.steps,function(e,n){return a("t-step-item",{key:n,attrs:{title:e.step},scopedSlots:t._u([{key:"content",fn:function(){return[a("v-uni-view",{staticClass:"step-text-list"},t._l(e.tasks,function(e,n){return a("v-uni-view",{key:n,class:"step-text "+e.type},["command"===e.type?a("t-icon",{attrs:{name:"control-platform",size:"32rpx","t-class":"step-icon"}}):t._e(),t._v(" "+t._s(e.text)+" ")],1)}),1)]},proxy:!0}],null,!0)})}),1)],1):t._e()]})]},proxy:!0},{key:"actionbar",fn:function(){return[n!==t.chatList.length-1&&"complete"===e.message.status&&"assistant"===e.message.role?a("t-chat-actionbar",{attrs:{placement:"end"},on:{actions:function(e){arguments[0]=e=t.$handleEvent(e),t.handleAction.apply(void 0,arguments)}}}):t._e()]},proxy:!0}],null,!0)})]})],2)],1),a("t-toast",{ref:"t-toast"})],1)},Ct=[],Lt=a(50537),Tt=a(59236),St=a(14867),Mt=0,$t=function(){return Mt+=1,"key-".concat(Mt)},It=function(t){return new Promise(function(e){return setTimeout(e,t)})},Et=function(){var t=(0,b.A)((0,y.A)().m(function t(e,a){var n,s,o,i,c,r;return(0,y.A)().w(function(t){while(1)switch(t.n){case 0:n=a.success,s=a.complete,o=a.delay,i=void 0===o?100:o,c=e.split(""),r=0;case 1:if(!(r<c.length)){t.n=4;break}return t.n=2,It(i);case 2:n(c[r]);case 3:r+=1,t.n=1;break;case 4:s();case 5:return t.a(2)}},t)}));return function(e,a){return t.apply(this,arguments)}}(),Pt={components:{TChatMessage:x.A,TChatContent:pt.A,TChatList:A.A,TChatSender:k.A,TChatActionbar:_.A,TSteps:Lt.A,TStepItem:Tt.A,TIcon:St.A,TToast:w.A},props:{contentHeight:{type:String,default:"100vh"},isActive:{type:Boolean,default:!1}},data:function(){return{renderPresets:[{name:"send",type:"icon"}],chatList:[{avatar:"https://tdesign.gtimg.com/site/chat-avatar.png",key:$t(),message:{role:"assistant",content:[{type:"text",data:"æ¬¢è¿ä½¿ç”¨TDesign Agentå®¶åº­æ´»åŠ¨ç­–åˆ’åŠ©æ‰‹ï¼Œè¯·ç»™æˆ‘å¸ƒç½®ä»»åŠ¡å§ï½"}]}}],value:"",loading:!1,disabled:!1,inputStyle:"",chatIndex:0,contentIndex:0,contentItem:{type:"",content:{steps:[]}},taskItem:{type:""},contentHeightClone:""}},options:{styleIsolation:"shared"},watch:{isActive:{handler:function(t){this.value=t?"è¯·å¸®æˆ‘åšä¸€ä¸ª5å²å„¿ç«¥ç”Ÿæ—¥èšä¼šçš„è§„åˆ’":""},immediate:!0},contentHeight:{handler:function(t){this.contentHeightClone=t},immediate:!0}},mounted:function(){this.attached()},created:function(){},methods:{attached:function(){try{var t=L()||0,e="calc(100vh - 96rpx - ".concat(t,"px)");this.contentHeightClone=e,console.log("å†…å®¹åŒºåŸŸé«˜åº¦CSSè¡¨è¾¾å¼:",e)}catch(a){console.log("CatchClause",a),console.log("CatchClause",a),console.error("ç”Ÿæˆå†…å®¹é«˜åº¦è¡¨è¾¾å¼å¤±è´¥:",a),this.contentHeightClone="calc(100vh - 96rpx)"}},onSend:function(t){var e=t.value;if(e&&""!==e.trim()){var a={key:$t(),message:{role:"user",content:[{type:"text",data:e.trim()}]}};this.chatList=[a].concat((0,v.A)(this.chatList)),this.value="",this.simulateAssistantReply(e.trim())}},onStop:function(){console.log("åœæ­¢å‘é€"),this.loading=!1},onFocus:function(){console.log("è¾“å…¥æ¡†èšç„¦")},simulateAssistantReply:function(){this.loading=!0;var t={avatar:"https://tdesign.gtimg.com/site/chat-avatar.png",key:$t(),message:{role:"assistant",content:[{type:"markdown",data:""}]}};this.chatList=[t].concat((0,v.A)(this.chatList));var e=this;this.$nextTick((0,b.A)((0,y.A)().m(function t(){return(0,y.A)().w(function(t){while(1)switch(t.n){case 0:return t.n=1,Et("ä¸º5å²å°æœ‹å‹å‡†å¤‡ä¸€åœºç”Ÿæ—¥æ´¾å¯¹ï¼Œæˆ‘ä¼šæ ¹æ®è¦æ±‚å‡†å¤‡åˆé€‚æ–¹æ¡ˆï¼Œè®¡åˆ’ä»ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤è¿›è¡Œå‡†å¤‡ï¼š",{success:function(t){e.loading&&(e.chatList[0].message.content[0].data+=t)},complete:function(){}});case 1:if(e.loading){t.n=2;break}return t.a(2);case 2:return e.chatList[0].message.content.push({type:"agent",id:"task1",content:{text:"",steps:[]}}),t.n=3,Et("ç”Ÿæ—¥èšä¼šè§„åˆ’ä»»åŠ¡å·²åˆ†è§£ä¸º3ä¸ªæ‰§è¡Œé˜¶æ®µ",{success:function(t){e.loading&&(e.chatList[0].message.content[1].content.text+=t)},complete:function(){}});case 3:if(e.loading){t.n=4;break}return t.a(2);case 4:return e.chatList[0].message.content[1].content.steps.push({step:"ç¡®å®šæ´¾å¯¹é¤é¥®æ–¹æ¡ˆ",agent_id:"a1",tasks:[{type:"command",text:""}],status:"finish"}),t.n=5,Et("è°ƒç”¨æ™ºèƒ½æœç´¢å·¥å…·",{success:function(t){e.loading&&(e.chatList[0].message.content[1].content.steps[0].tasks[0].text+=t)},complete:function(){}});case 5:if(e.loading){t.n=6;break}return t.a(2);case 6:return e.chatList[0].message.content[1].content.steps[0].tasks.push({type:"command",text:""}),t.n=7,Et("å·²ç­›é€‰å‡º3ç§é«˜æ€§ä»·æ¯”èœå•æ–¹æ¡ˆï¼Œå¼€å§‹è¿›è¡Œè¥å…»åŒ¹é…",{success:function(t){e.loading&&(e.chatList[0].message.content[1].content.steps[0].tasks[1].text+=t)},complete:function(){}});case 7:if(e.loading){t.n=8;break}return t.a(2);case 8:return e.chatList[0].message.content[1].content.steps[0].tasks.push({type:"result",text:""}),t.n=9,Et("ä¸»èœæ˜¯é¦™è‰çƒ¤é¸¡ï¼ˆæ— éº¸è´¨ï¼‰ï¼Œå‡†å¤‡è€—æ—¶45åˆ†é’Ÿï¼›",{success:function(t){e.loading&&(e.chatList[0].message.content[1].content.steps[0].tasks[2].text+=t)},complete:function(){}});case 9:if(e.loading){t.n=10;break}return t.a(2);case 10:return e.chatList[0].message.content[1].content.steps.push({step:"å‡†å¤‡æ´¾å¯¹ç°åœºå¸ƒç½®",agent_id:"a2",tasks:[{type:"command",text:""}],status:"finish"}),t.n=11,Et("è°ƒç”¨æ™ºèƒ½æœç´¢å·¥å…·ï¼Œæœç´¢å„¿ç«¥æ´¾å¯¹ç”¨å“æ¸…å•",{success:function(t){e.loading&&(e.chatList[0].message.content[1].content.steps[1].tasks[0].text+=t)},complete:function(){}});case 11:if(e.loading){t.n=12;break}return t.a(2);case 12:return e.chatList[0].message.content[1].content.steps[1].tasks.push({type:"result",text:""}),t.n=13,Et("æ¨èç°åœºå¸ƒç½®æ–¹æ¡ˆï¼šé¤å…·ï¼ˆä¸€æ¬¡æ€§çº¸ç›˜ã€åˆ€å‰å¥—è£…ï¼‰ã€æ¯å­ã€çº¸å·¾ã€ä¸€æ¬¡æ€§æ¡Œå¸ƒï¼Œè£…é¥°æ°”çƒã€æ¨ªå¹…ã€ç¤¼å¸½ç­‰",{success:function(t){e.loading&&(e.chatList[0].message.content[1].content.steps[1].tasks[1].text+=t)},complete:function(){}});case 13:if(e.loading){t.n=14;break}return t.a(2);case 14:return e.chatList[0].message.content[1].content.steps.push({step:"ç­–åˆ’æ´¾å¯¹æ´»åŠ¨",agent_id:"a1",tasks:[{type:"command",text:""}],status:"finish"}),t.n=15,Et("æœç´¢å„¿ç«¥æ´¾å¯¹æ¸¸æˆ",{success:function(t){e.loading&&(e.chatList[0].message.content[1].content.steps[2].tasks[0].text+=t)},complete:function(){}});case 15:if(e.loading){t.n=16;break}return t.a(2);case 16:return e.chatList[0].message.content[1].content.steps[2].tasks.push({type:"command",text:""}),t.n=17,Et("æ•´ç†ä¿¡æ¯å¹¶è¿›è¡Œåˆç†æ€§åˆ†æï¼Œå®‰å…¨æ€§è¯„ä¼°",{success:function(t){e.loading&&(e.chatList[0].message.content[1].content.steps[2].tasks[1].text+=t)},complete:function(){}});case 17:if(e.loading){t.n=18;break}return t.a(2);case 18:return e.chatList[0].message.content[1].content.steps[2].tasks.push({type:"result",text:""}),t.n=19,Et("æ´¾å¯¹æ€»æ—¶é•¿å»ºè®®æ§åˆ¶åœ¨1.5å°æ—¶ï¼Œç¬¦åˆ5å²å„¿ç«¥æ³¨æ„åŠ›æŒç»­æ—¶é—´ï¼Œæ¯ä½å°æœ‹å‹åˆ°è¾¾æ—¶å¯ä»¥åœ¨æ‹ç…§åŒºç•™å½±ï¼Œå¯è®¾ç½®ä¸€ä¸ªç­¾åˆ°",{success:function(t){e.loading&&(e.chatList[0].message.content[1].content.steps[2].tasks[2].text+=t)},complete:function(){}});case 19:e.chatList[0].message.status="complete",e.loading=!1;case 20:return t.a(2)}},t)})))},handleAction:function(t){var e=t.name,a=t.active,n=t.data,s="";switch(e){case"replay":s="é‡æ–°ç”Ÿæˆ";break;case"copy":console.log(n),s="å¤åˆ¶æˆåŠŸ";break;case"good":s=a?"ç‚¹èµæˆåŠŸ":"å–æ¶ˆç‚¹èµ";break;case"bad":s=a?"ç‚¹è¸©æˆåŠŸ":"å–æ¶ˆç‚¹è¸©";break;case"share":s="åˆ†äº«åŠŸèƒ½";break;default:s="æ‰§è¡Œäº†".concat(e,"æ“ä½œ")}(0,C.Ay)({context:this,selector:"#t-toast",message:s,theme:"success"})}}},Ht=Pt,zt=(a(16440),(0,H.A)(Ht,wt,Ct,!1,null,"7508df65",null,!1,_t,c)),Ft=zt.exports,Bt={components:{tTabs:h.A,tTabPanel:p.A,BaseDemo:F,HookComponent:O,DocsDemo:lt,ImageDemo:kt,AgentDemo:Ft},data:function(){return{value:0}},options:{styleIsolation:"shared"},methods:{onTabsChange:function(t){this.value=t.value}}},Dt=Bt,Rt=(a(88884),(0,H.A)(Dt,d,u,!1,null,"bc87069a",null,!1,l,r)),Vt=Rt.exports},75632:function(t,e,a){"use strict";a.r(e);var n=a(22093),s=a.n(n),o=a(12670),i=a.n(o),c=i()(s());c.push([t.id,".chat-box[data-v-348e5610]{padding-top:%?32?%;box-sizing:border-box}.t-chat__list[data-v-348e5610]{padding:0 0 0 %?32?%;box-sizing:border-box}.t-chat-message[data-v-348e5610]{padding:0 %?32?%}",""]),e["default"]=c},88517:function(t,e,a){var n=a(39206);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=a(31997).A;s("0baef4b4",n,!0,{sourceMap:!1,shadowMode:!1})},88820:function(t,e,a){"use strict";var n;a.d(e,{A:function(){return y}});var s,o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{class:[t.classPrefix,t.classes],style:t._._style([t.customStyle])},[a("v-uni-scroll-view",{class:t._.cls(t.classPrefix+"__content",[["reverse",t.reverse]]),attrs:{"scroll-y":!0,"enable-flex":!0,enhanced:!0,"scroll-with-animation":!0,"scroll-top":t.scrollViewTop,"data-ref":"chatListRef"},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.onScroll.apply(void 0,arguments)},scrolltoupper:function(e){arguments[0]=e=t.$handleEvent(e),t.handlerScrollToUpper.apply(void 0,arguments)},scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.handlerScrollToLower.apply(void 0,arguments)}}},[t.reverse?[a("v-uni-view",{staticClass:"placeholder"})]:t._e(),t.data&&t.data.length>0?[t._l(t.data,function(e,n){return[!t.virtualList||n>=t.startIndex&&n<=t.endIndex?a("chat-message",{key:n+"_0",attrs:{avatar:e.avatar||"",name:e.name||"",datetime:e.datetime||"",content:e.content,placement:"both"===t.layout&&"user"===e.role?"right":"left",animation:t.animation,status:e.status||""}}):t._e()]})]:t._t("default")],2),a("v-uni-view",{class:t.classPrefix+"__footer"},[t._t("footer")],2)],1)},i=[],c=a(70012),r=(a(49355),a(27439),a(36159)),l=a(46056),d=(a(26128),{animation:{type:String,default:"skeleton",validator:function(t){return!t||["skeleton","moving","gradient","dot"].includes(t)}},data:{type:Array},layout:{type:String,default:"both",validator:function(t){return!t||["both","single"].includes(t)}},reverse:{type:Boolean,default:!0},onScroll:{type:Function,default:function(){return{}}}}),u=a(10263),h=a(88070),p="".concat(l.Pl,"-chat-list"),g=(0,h.o1)({name:p,options:{multipleSlots:!0,styleIsolation:"shared"},components:{ChatMessage:r.A},props:(0,c.A)((0,c.A)({},d),{},{virtualList:{type:Boolean,default:!1},fragmentLen:{type:Number,default:8}}),data:function(){return{classPrefix:p,scrollViewTop:0,classes:[],listClasses:[],startIndex:0,endIndex:0,_:u.A}},watch:{data:{handler:function(){var t=this.data?this.data.length:0;this.virtualList&&this.oldDataLen!==t&&(this.oldDataLen=t,this.resetFragments())},immediate:!0,deep:!0}},methods:{setScrollTop:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t===this.scrollViewTop&&(t-=1),this.scrollViewTop=t},scrollToBottom:function(){var t=this.reverse?0:999999;this.setScrollTop(t)},onScroll:function(t){this.$emit("scroll",t)},handlerScrollToUpper:function(){!this.reverse&&this.virtualList&&this.addFragment()},handlerScrollToLower:function(){this.reverse&&this.virtualList&&this.addFragment()},resetFragments:function(){var t=this.data&&this.data.length;if(t){var e=this.fragmentLen;this.reverse?(this.startIndex=0,this.endIndex=Math.min(t-1,e-1)):(this.startIndex=Math.max(t-e,0),this.endIndex=Math.max(t-1,0))}},addFragment:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,e=this.data&&this.data.length;e&&(this.reverse?this.endIndex=Math.min(e-1,this.endIndex+t):this.startIndex=Math.max(this.startIndex-t,0))}}}),m=g,f=(a(7452),a(1391)),v=(0,f.A)(m,o,i,!1,null,"0ee857e8",null,!1,n,s),y=v.exports},88884:function(t,e,a){var n=a(11521);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=a(31997).A;s("52c08b9b",n,!0,{sourceMap:!1,shadowMode:!1})},90968:function(t,e,a){var n=a(4841);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=a(31997).A;s("3fab75f2",n,!0,{sourceMap:!1,shadowMode:!1})}}]);