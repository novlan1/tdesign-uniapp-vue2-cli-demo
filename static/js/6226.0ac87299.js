(self["webpackChunktdesign_uniapp_vue2_cli"]=self["webpackChunktdesign_uniapp_vue2_cli"]||[]).push([[6226],{15332:function(t,e,n){"use strict";n.d(e,{ly:function(){return f}});n(60963),n(52093),n(17932),n(86204),n(19329),n(77332),n(47402),n(29035),n(25241);var i=n(11005),o=n(33430),r=/scroll|auto|overlay/i,s=new o.A,l="page-scroll",a=function(t){var e=(0,i.p$)();if(e){var n=e.pageScroller;null===n||void 0===n||n.forEach(function(e){"function"===typeof e&&e(t)})}};function c(t,e){void 0===e&&(e=window);var n=t;while(n&&"HTML"!==n.tagName&&"BODY"!==n.tagName&&1===n.nodeType&&n!==e){var i=window.getComputedStyle(n),o=i.overflowY;if(r.test(o))return n;n=n.parentNode}return e}function f(t){return s.emit(l,t),s}e.Ay=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"onScroll",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=!1,{mounted:function(){if(e)s.on(l,this[t]);else{this._scroller=c(this.$el),this._scroller&&this._scroller.addEventListener("scroll",this._bindScroller);var n=(0,i.p$)();n&&(Array.isArray(n.pageScroller)?n.pageScroller.push(this._bindScroller):n.pageScroller="function"===typeof n.onPageScroll?[n.onPageScroll.bind(n),this._bindScroller]:[this._bindScroller],n.onPageScroll=a)}},beforeUnMount:function(){var n,o=this;if(e)s.off(l,this[t]);else{this._scroller&&this._scroller.removeEventListener("scroll",this._bindScroller);var r=(0,i.p$)();r&&(r.pageScroller=(null===(n=r.pageScroller)||void 0===n?void 0:n.filter(function(t){return t!==o._bindScroller}))||[])}},methods:{_bindScroller:function(e){var n,i;return i=null===(n=this[t])||void 0===n?void 0:n.call(this,e.target),i}}}}},21049:function(t,e,n){var i=n(68364);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var o=n(31997).A;o("2068a1e0",i,!0,{sourceMap:!1,shadowMode:!1})},25134:function(t,e,n){"use strict";var i=n(15277),o=n(59357);i("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},o)},33430:function(t,e,n){"use strict";n.d(e,{A:function(){return s}});var i=n(45824),o=n(83648),r=n(73086),s=(n(33755),n(52093),n(22837),n(56704),n(77332),n(39221),n(57100),function(){function t(){(0,o.A)(this,t),this.listeners=new Map,this.emitted=new Map,this.onceListeners=new Map}return(0,r.A)(t,[{key:"on",value:function(t,e){var n=this.listeners.get(t)||[];n.push(e),this.listeners.set(t,n),this.emitted.has(t)&&e.apply(void 0,(0,i.A)(this.emitted.get(t)))}},{key:"once",value:function(t,e){var n=this;if(this.emitted.has(t))e.apply(void 0,(0,i.A)(this.emitted.get(t)));else{var o=function(){e.apply(void 0,arguments),n.off(t,o)},r=this.onceListeners.get(t)||new Map;r.set(e,o),this.onceListeners.set(t,r),this.on(t,o)}}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];this.emitted.set(t,n);var r=this.listeners.get(t)||[];(0,i.A)(r).forEach(function(t){return t.apply(void 0,n)})}},{key:"off",value:function(t,e){if(e){var n=this.onceListeners.get(t);if(n&&n.has(e)){var i=n.get(e);return this._removeListener(t,i),void n.delete(e)}this._removeListener(t,e)}else this.listeners.delete(t),this.onceListeners.delete(t),this.emitted.delete(t)}},{key:"_removeListener",value:function(t,e){var n=this.listeners.get(t);if(n){var i=n.indexOf(e);i>-1&&(n.splice(i,1),0===n.length&&this.listeners.delete(t))}}}])}())},56704:function(t,e,n){"use strict";n(25134)},68364:function(t,e,n){"use strict";n.r(e);var i=n(22093),o=n.n(i),r=n(12670),s=n.n(r),l=s()(o());l.push([t.id,".t-sticky[data-v-b1394370]{position:relative}",""]),e["default"]=l},96226:function(t,e,n){"use strict";var i;n.d(e,{A:function(){return x}});var o,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{class:t.classPrefix+" "+t.tClass,style:t.tools._style(["z-index:"+t.zIndex,t.containerStyle,t.customStyle])},[n("v-uni-view",{class:t.classPrefix+"__content "+t.tClassContent,style:t.tools._style(["z-index:"+t.zIndex,t.contentStyle])},[t._t("default")],2)],1)},s=[],l=n(80256),a=n(70012),c=(n(73645),n(77332),n(47402),n(39221),n(57100),n(88070)),f=(n(27439),{container:{type:Function},disabled:Boolean,offsetTop:{type:[String,Number],default:0},zIndex:{type:Number,default:99},onScroll:{type:Function,default:function(){return{}}}}),u=n(46056),h=n(15332),d=n(11005),p=n(10263),v="".concat(u.Pl,"-sticky"),g=".".concat(v),y=(0,c.o1)({name:v,options:{styleIsolation:"shared"},externalClasses:["".concat(u.Pl,"-class"),"".concat(u.Pl,"-class-content")],mixins:[(0,h.Ay)()],props:(0,a.A)({},f),data:function(){return{prefix:u.Pl,classPrefix:v,containerStyle:"",contentStyle:"",tools:p.A}},watch:{offsetTop:"onScroll",disabled:"onScroll",container:"onScroll"},mounted:function(){this.onScroll()},methods:{onScroll:function(t){var e=this,n=t||{},i=n.scrollTop,o=this.container,r=this.offsetTop,s=this.disabled;s?this.setDataAfterDiff({isFixed:!1,transform:0}):(this.scrollTop=i||this.scrollTop,"function"!==typeof o?(0,d.l)(this,g).then(function(t){t&&(r>=t.top?(e.setDataAfterDiff({isFixed:!0,height:t.height}),e.transform=0):e.setDataAfterDiff({isFixed:!1}))}):Promise.all([(0,d.l)(this,g),this.getContainerRect()]).then(function(t){var n=(0,l.A)(t,2),i=n[0],o=n[1];i&&o&&(r+i.height>o.height+o.top?e.setDataAfterDiff({isFixed:!1,transform:o.height-i.height}):r>=i.top?e.setDataAfterDiff({isFixed:!0,height:i.height,transform:0}):e.setDataAfterDiff({isFixed:!1,transform:0}))}))},setDataAfterDiff:function(t){var e=this,n=this.offsetTop,i=this.containerStyle,o=this.contentStyle,r=t.isFixed,s=t.height,l=t.transform;(0,d.dY)().then(function(){var t="",a="";if(r&&(t+="height:".concat(s,"px;"),a+="position:fixed;top:".concat(n,"px;left:0;right:0;")),l){var c="translate3d(0, ".concat(l,"px, 0)");a+="-webkit-transform:".concat(c,";transform:").concat(c,";")}i===t&&o===a||(e.containerStyle=t,e.contentStyle=a),e.$emit("scroll",{scrollTop:e.scrollTop,isFixed:r})})},getContainerRect:function(){var t=this.container();return new Promise(function(e){return t.boundingClientRect(e).exec()})}}}),m=y,S=(n(21049),n(1391)),_=(0,S.A)(m,r,s,!1,null,"b1394370",null,!1,i,o),x=_.exports}}]);